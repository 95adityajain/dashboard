<div class="cl-mcont2" style="background-color:#F4F6F7;position:relative;" ng-init="init()"> 

  <!--Table Header-->
  <div class="row data-row db-color-bg">
      <div class="col-md-12">
          <div class="dataView-header flex-general-row-wrapper">
            <div class="headerL">
              <a ng-click="goToTables()" class="flex-general-row-wrapper" style="cursor:pointer;">
                <div class="back-arrow">
                  <i class="fa fa-angle-left fa-2x"></i>
                </div>
                <div>
                  <h3>Tables</h3>
                </div>
              </a>

            </div> 
            <div class="headerC flex-general-row-wrapper-center">

              <div ng-show="isTableLoaded" class="tableNameDiv flex-general-row-wrapper">   
                <div class="flex-general-row-wrapper" id="table-menu-btn" ng-click="showTableList=!showTableList">           
                  <h3>                
                    {{currentProject.currentTable.name}}
                  </h3> 
                  <i class="fa fa-angle-down fa-2x"></i> 
                </div>       

                <!--DropDown for TableList-->
                <div class="tableList-wrapper" ng-show="showTableList" id="main-menu" click-outside="closeTableMenu()" outside-if-not="table-menu-btn">
                  <div style="background-color:white;width:99.99%; height:210px;" malihuscrollbar-for-popup>

                  <div  ng-repeat="t in currentProject.tables" style="width:259px !important;">
                    <a href="" ng-click="showTableList=!showTableList; goToDataBrowser(t);">
                    <div class="selectTableList cf" style="padding:5px;height:30px;width:100%;">

                      <div class="pull-left">
                        <i class="fa fa-{{t.type.icon}}" style="margin-top:-10px;"></i>
                      </div>
                      <div class="pull-left" style="margin-left:1px;">
                        <!--User-->                        
                        <i ng-if="t.document.type=='user'" class="icon ion-person-stalker" style="font-size:16px;"></i>
                        <!--Role-->                        
                        <i ng-if="t.document.type=='role'" class="icon ion-unlocked" style="font-size:16px;"></i>
                        <!--Custom-->                        
                        <i ng-if="t.document.type=='custom'" class="icon ion-ios-list" style="font-size:16px;"></i>
                        &nbsp;
                        <span>{{t.name}}</span>
                      </div>
                        
                    </div> 
                    </a> 
                  </div>

                  </div>  
                </div>  
                <!--/DropDown for TableList-->             
              </div>  
              
            </div>
            <div class="headerR"> 
              <div class="flex-general-row-wrapper pull-right">
                <!--Apps link-->
                <div style="margin-right:20px;">
                  <a href="/#/" style="color:white;">

                    <div class="flex-general-row-wrapper pull-right" style="cursor:pointer;">     

                      <div>
                        <h5><i class="fa fa-th-large"></i></h5>
                      </div>
                      <div>
                        <h5>&nbsp;Apps</h5>
                      </div>

                    </div>               

                  </a>  
                </div>

                <!--Documentation link-->
                <div>
                  <a ng-click="goToDocumentation()" style="color:white;cursor:pointer;">

                    <div class="flex-general-row-wrapper pull-right" style="cursor:pointer;position:relative;">     
                      <div>
                        <h5><i class="fa fa-book"></i></h5>
                      </div>
                      <div>
                        <h5>&nbsp;Quickstart</h5>
                      </div>

                      <!--Beacon-->
                      <div ng-if="beacon && !beacon.documentationLink" class="first-data-beacon-container" style="cursor:pointer;"></div> 
                    </div>               

                  </a>  
                </div>
              </div>
                        
            </div>            
          </div>  
      </div>
  </div>
  <!--/Table Header--> 

  <!--Strip--> 
  <div ng-show="isTableLoaded && !tableLoadedError" class="table-tools-strip">
    <div class="table-strip-wrapper cf">

      <div class="table-strip-tools flex-general-row-wrapper pull-left">
        <!--Delete rows-->
        <button ng-if="selectedRowsCount>0" type="button" class="table-tool-btn" ng-click="deleteSelectedRows()">
          <i class="fa fa-trash-o"></i>
        Delete rows
        </button>
        <!--/Delete rows-->

        <!--Hide columns-->
        <div class="hide-col-btn-group">
          <button type="button" id="hide-col-btn-id" class="hide-col-btn" ng-click="toggleHiddenColShow()">
            <div class="pull-left">
              <div style="margin-left:10px;" ng-class='{hiddencolindicator : hiddenColumnCount>0}'>
                <i class="fa fa-columns"></i>&nbsp;
                <span ng-show="hiddenColumnCount>0">{{hiddenColumnCount}}</span> &nbsp;               
                <span ng-show="hiddenColumnCount==0">Hide Columns</span> 
                <span ng-show="hiddenColumnCount>0">Hidden Columns</span>
              </div>           
            </div>
            <div class="pull-right"> 
              <span class="caret"></span>
            </div>
          </button>

          <div class="hidden-col-wrapper" ng-show="showHiddenColList" id="hide-col-box" click-outside="closeHideColBox()" outside-if-not="hide-col-btn-id">
            <div class="hidden-col-container">
              <!--show all and hide all button-->
              <div class="hidden-col-short-btnwrapper flex-general-row-wrapper">

                <div>
                  <button type="button" ng-click="showallHiddenCols()" class="hidden-col-short-btn">show all</button>
                </div> 
                <div>
                  <button type="button" ng-click="hideallHiddenCols()" class="hidden-col-short-btn" style="margin-left:4px;">hide all</button>
                </div> 

              </div>
                
              <!--columns which are hidden-->
              <div class="list-hidden-col-wrapper" malihuscrollbar-for-popup>

                <div ng-repeat="vcol in currentProject.currentTable.columns track by $index"  class="list-hidden-col-container">

                  <div ng-if="vcol.dataType!='Id'" class="flex-general-row-wrapper">
                    <div class="hidden-col-chbx-div">
                      
                      <checkbox  class="hidden-col-chbx chckbx-fix"  ng-model="hideColumn[$index]" ng-click="toggleHideColumn($index)"></checkbox>
                      
                    </div>
                    <div class="hidden-col-name-div">
                      <span>{{vcol.name}}</span>
                    </div>
                  </div>                                    

                </div>             

              </div>                
            </div>
          </div>            
          
        </div>
        <!--/Hide columns-->

        <!--Filter columns-->
        <div class="filter-hide-col-btn-group">
          <!--Button-->
          <button type="button"  class="filter-hide-col-btn filterbtnid" ng-click="toggleFilterShow()">
            <div class="pull-left">
              <div style="margin-left:10px;" ng-class='{hiddencolindicator : filtersList.length>1}'>
                <i class="fa fa-filter"></i>&nbsp;                             
                <span>Filters</span>               
              </div>           
            </div>
            <div class="pull-right"> 
              <span class="caret"></span>
            </div>
          </button>
          <!--Button-->

          <div class="filter-hidden-col-wrapper" ng-show="showFilterList" id="filtercol-box" click-outside="closeFilterBox()" outside-if-not="filterbtnid">
            <div class="hidden-col-container-filter">              
              <!--show all and hide all button-->
              <div class="filter-short-btnwrapper" style="width:93%;">
                <div>
                  <button type="button" style="width:99.99%" ng-click="addFilter()" class="hidden-col-short-btn">Add Filter</button>
                </div>
              </div>
              <!--/show all and hide all button-->

              <!--Notification-->
              <div ng-show="filterNotify" style="width:width:99.99%;padding:5px;" class="flex-general-column-wrapper-center">
                <p style="font-size:12px;">                 
                  <span>{{filterNotify}}</span>
                </p>
              </div>  
              <!--/Notification-->
                
              <!--columns which are hidden-->
              <div class="list-hidden-col-wrapper-filter">

                <div ng-repeat="eachFilter in filtersList" class="list-hidden-col-container-filter" style="">                

                    <!--Each Box-->
                    <div class="filter-item flex-general-row-wrapper">

                    <!--Constraint-->
                    <div style="width:63px;background-color:#F5F5F5;height:24px;border-right:1px solid #E2E0E0;">
                      <!--First-->                      
                      <div  ng-show="$index==0" style="padding-left:7px;padding-top:3px;">
                        Where
                      </div>  
                      <!--/First-->

                      <!--More Than One-->
                      <select ng-show="$index!=0" class="filter-select constraint-select" ng-model="eachFilter.contriant" ng-change="popUpFilterTypes(eachFilter,$index)">
                        <option ng-selected="eachFilter.contriant=='And'" value="And">And</option>
                        <option ng-selected="eachFilter.contriant=='Or'" value="Or">Or</option>
                      </select> 
                      <!--/More Than One--> 
                    </div> 
                    <!--/Constraint-->

                    <!--Column Name-->
                    <div style="width:126px;height:24px;border-right:1px solid #E2E0E0;">
                      <select  class="filter-select column-select" ng-model="eachFilter.colName" ng-change="changeFilterColumn(eachFilter,$index)">
                        <option ng-repeat="column in currentProject.currentTable.columns" ng-show="column.dataType!='Id' && column.dataType!='ACL' && column.dataType!='Relation'" ng-selected="eachFilter.colName==column.name && eachFilter.colDataType==column.dataType" value="{{column.name}}">{{column.name}}</option>
                      </select>
                    </div>
                    <!--/Column Name-->

                    <!--Filter-->
                    <div style="width:134px;height:24px;border-right:1px solid #E2E0E0;">

                      <div ng-repeat="type in filterTypes" ng-show="type.dataType==eachFilter.colDataType && type.relatedTo==eachFilter.colRelatedTo" style="width:100%;height:100%;">

                        <select  class="filter-select column-select" ng-model="eachFilter.filter" ng-change="changeFilterFilterType(eachFilter,$parent.$index)">
                          <option  ng-repeat="eachType in type.filters" ng-selected="eachType==eachFilter.filter" value="{{eachType}}">{{eachType}}</option>
                        </select>

                      </div>

                    </div>
                    <!--/Filter-->

                    <!--Value-->
                    <div class="flex-general-row-wrapper" style="width:233px;height:24px;border-right:1px solid #E2E0E0;">

                      <div class="flex-general-column-wrapper-center" style="width:91%;height:100%;">
                        <!--Single Item-->
                        <div ng-show="eachFilter.colDataType!='List' && eachFilter.filter!='geoWithin'"  style="width:99.99%;"> 

                          <!--Except Boolean,DateTime,GeoPoint--> 
                          <div ng-show="eachFilter.colDataType!='Boolean' && eachFilter.colDataType!='DateTime' && eachFilter.colDataType!='GeoPoint'">
                            <input type="text" ng-disabled="eachFilter.filter=='exists' || eachFilter.filter=='doesNotExists'" class="filterValueTxt" ng-model="eachFilter.value" ng-change="popUpFilterTypes(eachFilter,$index)">
                          </div>
                          <!--/Except Boolean,DateTime,GeoPoint--> 

                          <!--Boolean--> 
                          <div ng-show="eachFilter.colDataType=='Boolean'" class="flex-general-column-wrapper-center">
                              <input type="checkbox" ng-model="eachFilter.value" ng-change="popUpFilterTypes(eachFilter,$index)" ng-disabled="eachFilter.filter=='exists' || eachFilter.filter=='doesNotExists'" style="margin-top:-1px;">
                          </div>
                          <!--/Boolean-->

                          <!--DateTime--> 
                          <div ng-show="eachFilter.colDataType=='DateTime'" class="flex-general-column-wrapper-center">        
                            <input type="text" datetimepicker class="filterValueTxt" ng-model="eachFilter.value" ng-change="popUpFilterTypes(eachFilter,$index)">
                          </div>
                          <!--/DateTime-->

                          <!--GeoPoint--> 
                          <div ng-show="eachFilter.colDataType=='GeoPoint' && eachFilter.filter=='near'" class="flex-general-row-wrapper">
                            <!--Longititude-->
                            <div style="width:35%;height:100%;;padding-top:1px;border-right:1px solid #DDDDDD;">
                              <input type="text"  class="geo-filter-txt" ng-model="eachFilter.longitude"  placeholder="Longitude" style="width:99.99%;" ng-change="popUpFilterTypes(eachFilter,$index)">
                            </div>

                            <!--Latitude-->
                            <div style="width:35%;height:100%;padding-top:1px;border-right:1px solid #DDDDDD;">
                              <input type="text"  class="geo-filter-txt" ng-model="eachFilter.latitude"  placeholder="Latitude" style="width:99.99%;" ng-change="popUpFilterTypes(eachFilter,$index)">
                            </div>

                            <!--Value-->
                            <div style="width:30%;height:100%;;padding-top:1px;border-right:1px solid #DDDDDD;">
                              <input type="text" class="geo-filter-txt" ng-model="eachFilter.value"  placeholder="Dist(m)" style="width:99.99%;" ng-change="popUpFilterTypes(eachFilter,$index)">
                            </div>  
                          </div>
                          <!--/GeoPoint-->

                        </div>

                        <!--Array of Items-->
                        <div ng-show="eachFilter.colDataType=='List' || (eachFilter.colDataType=='GeoPoint' && eachFilter.filter=='geoWithin')" style="width:99.99%;height:100%;border:1px solid #4892F9;position:relative !important;">

                          <!--Defaultview-->
                          <div class="flex-general-row-wrapper" style="width:99.99%;height:100%;border-right:1px solid #DDDDDD;">

                            <!--Plus-->
                            <div style="width:10%;height:100%;" class="flex-general-column-wrapper-center">
                              <i class="fa fa-plus filterlistoflistaddbtn"  ng-click="addNewFilterListValue(eachFilter,$index)"></i>
                            </div> 

                            <!--Content-->
                            <div style="width:89%;height:100%;border-left:1px solid #DDDDDD;padding-top:1.5px;">

                              <!--Diplay-->
                              <div  ng-show="!filterListOfList[$index] && eachFilter.arrayValue.length>0" class="flex-general-row-wrapper" style="width:100%;overflow:hidden;height:19px;">

                                <div ng-repeat="item in eachFilter.arrayValue track by $index"  style="height:17px;background-color:#E0EDFF;border-radius:2px;margin-left:5px;padding-left:3px;padding-right:3px;" ng-click="addNewFilterListValue(eachFilter,$index)" class="filterlistoflistaddbtn">           
                                  <span ng-show="eachFilter.colDataType!='GeoPoint' && eachFilter.colRelatedTo!='DateTime'">{{item}}</span> 
                                  <span ng-show="eachFilter.colDataType!='GeoPoint' && eachFilter.colRelatedTo=='DateTime'">{{item | date:"MM/dd/yyyy h:mma"}}</span>
                                  <span ng-show="eachFilter.colDataType=='GeoPoint'">{{item.longitude}},{{item.latitude}}</span>                
                                </div>

                              </div>
                                
                              <!--Edit Mode-->  
                              <div  class="filterlistoflistaddbtn" ng-show="filterListOfList[$index] || eachFilter.arrayValue.length==0">
                                <!--Text,Number,Email,URL-->   
                                <div ng-show="eachFilter.colRelatedTo!='Boolean' && eachFilter.colRelatedTo!='DateTime' && eachFilter.colRelatedTo!='GeoPoint' && eachFilter.colDataType!='GeoPoint'"> 
                                  <input type="text" ng-model="eachFilter.value" style="width:99.99%;" placeholder="Value" class="list-filter-txt">
                                </div>

                                <!--Boolean-->   
                                <div ng-show="eachFilter.colRelatedTo=='Boolean' && eachFilter.colDataType!='GeoPoint'" class="flex-general-column-wrapper-center"> 
                                  <input type="checkbox" ng-model="eachFilter.value" style="margin-top:2px;">
                                </div>

                                <!--DateTime-->   
                                <div ng-show="eachFilter.colRelatedTo=='DateTime' && eachFilter.colDataType!='GeoPoint'" class="flex-general-column-wrapper-center"> 
                                  <input type="text" datetimepicker class="filterValueTxt" ng-model="eachFilter.value">
                                </div>

                                <!--GeoPoint--> 
                                <div ng-show="eachFilter.colDataType=='GeoPoint' && eachFilter.filter=='geoWithin'" class="flex-general-row-wrapper">
                                  <!--Longititude-->
                                  <div style="width:49.98%;height:100%;;padding-top:1px;border-right:1px solid #DDDDDD;">
                                    <input type="text"  class="geo-filter-txt" ng-model="eachFilter.longitude"  placeholder="Longitude" style="width:99.99%;">
                                  </div>

                                  <!--Latitude-->
                                  <div style="width:49.98%;height:100%;padding-top:1px;">
                                    <input type="text"  class="geo-filter-txt" ng-model="eachFilter.latitude"  placeholder="Latitude" style="width:99.99%;">
                                  </div>  
                                </div>
                                <!--/GeoPoint-->

                              </div>
                            </div> 

                          </div>
                          <!--/Defaultview-->

                          <!--DropDownList-->
                          <div ng-show="filterListOfList[$index]" class="listfilter-bx filterlistoflisbx filterlistoflistaddbtn" style="background-color:white;" click-outside="closeFilterListOfListBox($index)" outside-if-not="filterlistoflistaddbtn">

                            <div ng-repeat="item in eachFilter.arrayValue track by $index" class="flex-general-row-wrapper" style="height:24px;width:99.98%;border-bottom:1px solid #DDDDDD;">

                              <!--Minus-->
                              <div style="width:10%;height:100%;" class="flex-general-column-wrapper-center filterbtnid">
                                <i class="fa fa-minus filterlistoflistaddbtn" ng-click="removeFilterListValue($parent.$index,$index)"></i>
                              </div> 

                              <!--Content-->
                              <div style="width:89%;height:100%;border-left:1px solid #DDDDDD;padding-top:1.5px;">
                                <!--Text,Number,Email,URL-->
                                <div ng-show="eachFilter.colRelatedTo!='Boolean' && eachFilter.colRelatedTo!='DateTime' && eachFilter.colDataType!='GeoPoint'">
                                   <input type="text" ng-model="item" style="width:99.99%;" placeholder="Value" class="list-filter-txt filterlistoflistaddbtn"  ng-change="filtersListOfListUpdate(eachFilter,$parent.$index,item,$index)">
                                </div>

                                <!--Boolean-->
                                <div ng-show="eachFilter.colRelatedTo=='Boolean' && eachFilter.colDataType!='GeoPoint'" class="flex-general-column-wrapper-center">
                                   <input type="checkbox" ng-model="item" style="margin-top:2px;" ng-change="filtersListOfListUpdate(eachFilter,$parent.$index,item,$index)" class="filterlistoflistaddbtn">
                                </div>

                                <!--DateTime-->
                                <div ng-show="eachFilter.colRelatedTo=='DateTime' && eachFilter.colDataType!='GeoPoint'" class="flex-general-column-wrapper-center esp-datatimefilter">                                   
                                   <input type="text" datetimepicker class="filterValueTxt filterlistoflistaddbtn" ng-model="item" ng-change="filtersListOfListUpdate(eachFilter,$parent.$index,item,$index)">
                                </div>

                                <!--GeoPoint--> 
                                <div ng-show="eachFilter.colDataType=='GeoPoint' && eachFilter.filter=='geoWithin'" class="flex-general-row-wrapper">
                                  <!--Longititude-->
                                  <div style="width:49.98%;height:100%;;padding-top:1px;border-right:1px solid #DDDDDD;">
                                    <input type="text"  class="geo-filter-txt filterlistoflistaddbtn" ng-model="item.longitude"  placeholder="Longitude" style="width:99.99%;" ng-change="filtersListOfListUpdate(eachFilter,$parent.$index,item,$index)">
                                  </div>

                                  <!--Latitude-->
                                  <div style="width:49.98%;height:100%;padding-top:1px;">
                                    <input type="text"  class="geo-filter-txt filterlistoflistaddbtn" ng-model="item.latitude"  placeholder="Latitude" style="width:99.99%;" ng-change="filtersListOfListUpdate(eachFilter,$parent.$index,item,$index)">
                                  </div>  
                                </div>
                                <!--/GeoPoint-->
                              </div>

                            </div>

                          </div>
                          <!--/DropDownList-->                                                                                  

                        </div>                             
                       
                      </div>

                      <div class="flex-general-column-wrapper-center" style="height:24px;width:17px;">
                        <i class="fa fa-spinner fa-spin" ng-show="filterSpinner[$index]"></i>
                      </div>  
                    </div>
                    <!--/Value-->

                    <!--Remove-->
                    <div class="flex-general-column-wrapper-center filterdel filterbtnid" style="background-color:#F5F5F5 !important;height:24px;width:25px;">
                        <i class="icon ion-close" ng-click="removeFilter($index)"></i>
                    </div>
                    <!--/Remove-->                
                  </div>
                  <!--/Each Box-->                                    

                </div> 
              </div> 
              <!--/columns which are hidden-->                                         

            </div>
          </div>            
          
        </div>
        <!--/Filter columns-->

        <!--Big Search-->
        <div class="search-hide-col-btn-group" style="height:28px;" id="grandesearchwrapper" click-outside="closeSearchBox()" outside-if-not="grandesearchfun">
          <div class="flex-general-row-wrapper" ng-class='{"cb-searchbx" : isSearchBoxOpen}' style="height:28px !important;">
            <!--Search & Spinner Icon-->
            <div class="flex-general-column-wrapper-center"  style="height:100%;">
              
              <!--Search  Icon-->
              <button ng-show="!cloudSearchSpinner" type="button" class="grande-search-btn grandesearchfun"  ng-click="openSearchBox()" style="padding-bottom:2px;"><i class="icon ion-ios-search-strong" style="font-size: 26px;"></i></button>

              <!--Spinner  Icon-->
              <button ng-show="cloudSearchSpinner && isSearchBoxOpen" type="button" class="grande-search-btn grandesearchfun"  ng-click="openSearchBox()"><i class="fa fa-spinner fa-spin" style="font-size: 18px;"></i></button>
            </div>

            <!--Search Box-->
            <div class="grandesearchfun" ng-show="isSearchBoxOpen"  style="height:26px !important;width:165px;">
              <input type="text" class="grande-search-text" ng-model="cloudSearchText" ng-change="updatedCloudSearch()" style="width:100%;height:100%;" placeholder="Search">
            </div>

          </div>         
        </div>
        <!--/Big Search-->

      </div>
      <div class="table-strip-info flex-general-row-wrapper pull-right cf">          
        <div class="pull-right;" style="width:99.99%;">       

          <!--Row selection info-->
          <div class="data-info-div row-info"  ng-if="selectedRowsCount>0 && !commonSpinner && !commonSaved">
            <p ng-show="selectedRowsCount==1">{{selectedRowsCount}} row selected</p>
            <p ng-show="selectedRowsCount>1">{{selectedRowsCount}} rows selected</p>
          </div>
          <!--/Row selection info-->

          <!--Common Warning-->
          <div class="data-info-div-icons" ng-if="commonWarning && !commonError && !commonSpinner && !commonSaved">           
            <p class="sno-warninginfo" style="margin-right:25px;" infotooltipleft="commonWarning">
              <i class="fa fa-exclamation-triangle fa-lg"></i>
            </p>
          </div>
          <!--/Common Warning--> 

          <!--Common Error-->
          <div class="data-info-div-icons" ng-if="commonError && !commonWarning && !commonSpinner && !commonSaved">         
            <p  class="sno-errorinfo" style="margin-right:25px;" infotooltipleft="commonError">
              <i class="fa fa-exclamation-triangle fa-lg"></i>
            </p>
          </div>
          <!--/Common Error-->                       

          <!--Common Saving Spinner-->
          <div  class="data-info-div" ng-if="commonSpinner && !commonError && !commonWarning && !commonSaved">
            <p class="sno-savingSpin" style="margin-right:25px;">            
              <i class="fa fa-spinner fa-spin fa-2x"></i>
            </p>            
          </div> 
          <!--/Common Saving Spinner-->

          <!--Common Saved Tick-->
          <div class="data-info-div-icons" ng-if="commonSaved && !commonError && !commonWarning && !commonSpinner">  
            <p  class="sno-saved" style="margin-right:25px;">             
              <i class="fa fa-check fa-lg"></i>
            </p>
          </div>
          <!--/Common Saved Tick-->

        </div>     
      </div>  
    </div>  
  </div> 
  <!--/Strip-->  

  <!--Table-->
  <div ng-show="isTableLoaded && !tableLoadedError" class="row data-table-def">
     <div class="col-md-12">
        
        <div id="scrollbar-wrapper" verticalscroll class="data-table-design" lr-infinite-scroll="addMoreRecords">          

        <!--Fixed Top Table-->  
        <div class="fixed-table-wrapper"> 
        <table  class="smoothTable fixedTopTable">
          <thead>            
            <tr class="cust-head-tr fix-prime-thead">
              <th class="fTh cf">
                <div class="fThDiv">
                  <checkbox class="btn-default checkBxDflt chckbx-fix" ng-model="areSelectAllRows" ng-click="selectAllRows()"></checkbox>
                </div>                  
              </th>
             
              <th ng-repeat="column in currentProject.currentTable.columns"  ng-if="column.document.dataType==='Id'" class="cust-th" style="border-right:1px solid #4892F9;"> 

                <div class="cust-cell flex-general-row-wrapper" ng-class="{true: 'cust-cell-width'}[!currentTableData || currentTableData.length==0]">
                  <div class="cust-cell-name flex-general-row-wrapper">                    
                    <div class="col-name">
                       <span style="display:inline; cursor:default;">
                        <!--Id-->
                        <i class="fa fa-bullseye col-icon-size" style="cursor:default;"></i>
                        {{column.name}}
                      </span>
                    </div>
                  </div>                

                </div>
                  
              </th>                        
            </tr> 
            
          </thead> 
          <tbody>

            <tr ng-repeat="eachRow in currentTableData" ng-mouseenter="flipToCheckBox($index)" ng-mouseleave="flipToSerialNo($index)">

              <!--default checkbox-->
              <td  class="fdataTd fix-collective-chkbx fixedTd">
                  <div class="fTdDiv flex-general-row-wrapper-center">

                    <!--SerialNo-->
                    <span ng-if="!rowEditMode[$index] && !rowErrorMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index] && !rowsSelected[$index]  && showSerialNo[$index]" class="btn-default checkBxDflt chckbx-fix" class="sno" style="margin-left:6.9px;">{{$index+1}}</span>

                    <!--Checkbox-->
                    <checkbox  ng-if="!rowEditMode[$index] && !rowErrorMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index] && !showSerialNo[$index]" class="btn-default checkBxDflt chckbx-fix"  ng-model="rowsSelected[$index]" ng-click="selectThisRow($index)"></checkbox>                   

                    <!--Edit mode-->
                    <span ng-if="rowEditMode[$index] && !rowErrorMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index]" class="sno-edit">
                      <i class="fa fa-pencil"></i>
                    </span>

                    <!--Warning mode-->
                    <span ng-if="rowWarningMode[$index] && !rowEditMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowErrorMode[$index]" class="sno-warninginfo" infotooltipright="rowInfo">
                      <i class="fa fa-exclamation-triangle"></i>
                    </span>

                    <!--Error mode-->
                    <span ng-if="rowErrorMode[$index] && !rowWarningMode[$index] && !rowEditMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index]" class="sno-errorinfo" infotooltipright="rowInfo">
                      <i class="fa fa-exclamation-triangle"></i>
                    </span>

                    <!--Spinner-->
                    <span ng-if="rowSpinnerMode[$index] && !rowEditMode[$index] && !rowErrorMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index]" class="sno-spinner">
                      <i class="fa fa-spinner fa-spin"></i>
                    </span>

                    <!--Saved Tick-->
                    <span ng-if="rowSavedMode[$index] && !rowSpinnerMode[$index] && !rowEditMode[$index] && !rowErrorMode[$index] && !rowWarningMode[$index]" class="sno-saved">
                      <i class="fa fa-check"></i>
                    </span>                               

                  </div>              
              </td>  
              <!--/default checkbox-->

              <td ng-repeat="column in currentProject.currentTable.columns" ng-show="column.document.dataType=='Id'" class="dataTd"  style="border-right:1px solid #4892F9;">                 
                <!--Id-->             
                <div  class="tdDiv cf" style="min-width: 175px; cursor:default;">         
                  <div class="real-content pull-left">
                    {{eachRow.get(column.name)}}                 
                  </div>            
                </div>
                <!--/Id--> 
              </td>            
            </tr>

            <!--Extra Add row-->
            <tr>
              <td class="ldataTd addRowTd" ng-click="addRow()">
                  <div class="lTdDiv">
                      <div class="flex-general-row-wrapper-center">
                        <span>+</span>
                      </div>
                      
                      <!--Beacon-->
                      <div ng-if="beacon && !beacon.firstRow" ng-click="addRow()" class="first-row-beacon-container" style="cursor:pointer;"></div>  
                  </div> 
                            
              </td>

               <td  class="dataTd fixColumn" ng-repeat="column in currentProject.currentTable.columns" ng-if="column.document.dataType==='Id'" style="border-right:1px solid #4892F9;">
                <div class="tdDiv cf" ng-click="addRow()" style="cursor:cell;"> 
                </div>  
              </td> 

            </tr>
            <!--/Extra Add row--> 

            <!--Dummy trs for space-->
            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="column.document.dataType==='Id'">
                <div class="tdDiv cf"> 
                </div>  
              </td>                
            </tr>


            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="column.document.dataType==='Id'">
                <div class="tdDiv cf"> 
                </div>  
              </td>              
            </tr>

            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="column.document.dataType==='Id'">
                <div class="tdDiv cf"> 
                </div>  
              </td>                
            </tr>

            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="column.document.dataType==='Id'">
                <div class="tdDiv cf"> 
                </div>  
              </td>               
            </tr>
            <!--/Dummy trs for space-->           
          </tbody>

         </table>
        </div>
        <!--/Fixed Top Table-->

        <!--Normal Flow Table--> 
        <div class="normal-table-wrapper"> 
        <table  class="smoothTable">
          <thead>            
            <tr class="cust-head-tr fix-prime-thead">
              <th class="fTh cf">
                <div class="fThDiv">
                  <checkbox class="btn-default checkBxDflt chckbx-fix" ng-model="areSelectAllRows" ng-click="selectAllRows()"></checkbox>
                </div>                  
              </th>
             
              <th ng-repeat="column in currentProject.currentTable.columns"  ng-if="hideColumn[$index]" class="cust-th"> 

                <div class="cust-cell flex-general-row-wrapper" ng-class="{true: 'cust-cell-width'}[!currentTableData || currentTableData.length==0]">
                  <div class="cust-cell-name flex-general-row-wrapper">                    
                    <div class="col-name">
                       <span style="display:inline; cursor:default;">
                        <!--Id-->
                        <i ng-if="column.document.dataType==='Id'" class="fa fa-bullseye col-icon-size" style="cursor:default;"></i>

                        <!--Boolean-->
                        <i ng-if="column.document.dataType=='Boolean'"  class="fa fa-check col-icon-size" style="cursor:default;"></i>

                         <!--DateTime-->
                        <i ng-if="column.document.dataType=='DateTime'" class="fa fa-calendar-o col-icon-size" style="cursor:default;"></i>

                        <!--ACL-->
                        <i ng-if="column.document.dataType=='ACL'" class="fa fa-lock col-icon-size" style="cursor:default;"></i>

                        <!--Object-->
                        <i ng-if="column.document.dataType=='Object'" class="fa fa-circle col-icon-size" style="cursor:default;"></i>

                        <!--Text-->
                        <i ng-if="column.document.dataType=='Text'" class="fa fa-text-height col-icon-size" style="cursor:default;"></i>

                        <!--Encrypted Text-->
                        <i ng-if="column.document.dataType=='EncryptedText'" class="fa fa-asterisk col-icon-size" style="cursor:default;"></i>

                        <!--Email-->
                        <i ng-if="column.document.dataType=='Email'" class="fa fa-envelope-o col-icon-size" style="cursor:default;"></i>

                        <!--URL-->
                        <i ng-if="column.document.dataType=='URL'" class="fa fa-globe col-icon-size" style="cursor:default;"></i>

                        <!--Number-->
                        <i ng-if="column.document.dataType=='Number'" class="fa fa-th col-icon-size" style="cursor:default;"></i>

                        <!--File-->
                        <i ng-if="column.document.dataType=='File'" class="fa fa-paperclip col-icon-size" style="cursor:default;"></i>

                        <!--Relation-->
                        <i ng-if="column.document.dataType=='Relation'" class="fa fa-external-link col-icon-size" style="cursor:default;"></i>

                        <!--List-->
                        <i ng-if="column.document.dataType=='List'" class="fa fa-bars col-icon-size" style="cursor:default;"></i>

                        <!--GeoPoint-->
                        <i ng-if="column.document.dataType=='GeoPoint'" class="fa fa-map-marker col-icon-size" style="cursor:default;"></i>

                        {{column.name}}
                      </span>
                    </div>
                  </div> 

                  <div ng-if="column.document.dataType!='Id'" class="cust-cell-dropdwn" id="cust-cell-dropdwn-btn{{$index}}" ng-click="toggleColOptions($index)">
                      <!--Active Column-->
                      <!--ASC-->
                      <i ng-if="orderBy==column.name && orderByType=='asc'" class="fa fa-angle-up dropdown-icon-size" style="padding-top: 4.6px;"></i>

                      <!--DESC-->
                      <i ng-if="orderBy==column.name && orderByType=='desc'" class="fa fa-angle-down dropdown-icon-size" style="padding-top: 4.6px;"></i>

                      <!--Passive Columns-->
                      <!--DESC-->
                      <i ng-if="orderBy!=column.name" class="fa fa-angle-down dropdown-icon-size" style="padding-top: 4.6px;"></i>
                  </div>
                </div>

                  <!--col dropdown-->
                  <div ng-if="showColOptions[$index] && column.document.dataType!='Id'" class="col-dropdown" id="col-configure-drpdown{{$index}}" click-outside="closeColConfig($index)" outside-if-not="cust-cell-dropdwn-btn{{$index}}">
                    <!--Column options-->
                    <div ng-show="!editColumn[$index]" class="flex-general-column-wrapper">          

                      <div ng-if="column.document.isDeletable" ng-click="confirmDeleteColumn(column)" class="col-optionz">
                        <span class="col-options-span">
                          <i class="fa fa-minus-circle" style="padding-top: 5px;padding-right: 6px;"></i>
                          Delete Column
                        </span>
                      </div>

                      <div ng-if="column.document.isEditable" ng-click="editThisColumn(column)" class="col-optionz">
                        <span class="col-options-span">
                          <i class="fa fa-wrench" style="padding-top: 5px;padding-right: 6px;"></i>
                          Configure Column
                        </span>
                      </div>

                      <div ng-if="column.document.dataType!='Id' && column.document.dataType!='Object' && column.document.dataType!='ACL' && column.document.dataType!='File' && column.document.dataType!='Relation' && column.document.dataType!='List' && column.document.dataType!='EncryptedText'" ng-click="sortASC(column)" class="col-optionz">
                        <span class="col-options-span">
                          <i class="fa fa-sort-alpha-asc" style="padding-top: 5px;padding-right: 6px;"></i>
                          Sort Ascending
                        </span>
                      </div>

                      <div ng-if="column.document.dataType!='Id' && column.document.dataType!='Object' && column.document.dataType!='ACL' && column.document.dataType!='File' && column.document.dataType!='Relation' && column.document.dataType!='List' && column.document.dataType!='EncryptedText'" ng-click="sortDESC(column)" class="col-optionz">
                        <span class="col-options-span">
                          <i class="fa fa-sort-alpha-desc" style="padding-top: 5px;padding-right: 6px;"></i>
                          Sort Descending
                        </span>
                      </div>

                      <div ng-if="column.document.dataType!='Id'" ng-click="hideThisColumn(column)" class="col-optionz">
                        <span class="col-options-span">
                          <i class="fa fa-eye-slash" style="padding-top: 5px;padding-right: 6px;"></i>
                          Hide Column
                        </span>
                      </div>

                    </div>  

                    <!--Configure column-->
                    <div ng-show="editColumn[$index]" class="col-configure">

                      <div class="">

                          <!--isRequired-->
                          <div class="flex-general-row-wrapper">

                            <div>
                             <checkbox  class="hidden-col-chbx chckbx-fix"  ng-model="column.required" ></checkbox>
                            </div>

                             <div class="" style="margin-left:5px;">
                              <span class="config-col-constain">isRequired</span>
                             </div>

                          </div>
                         

                          <!--isUnique-->
                          <div class="flex-general-row-wrapper">

                            <div>
                             <checkbox  class="hidden-col-chbx chckbx-fix"  ng-model="column.unique" ></checkbox>
                            </div>

                             <div class="" style="margin-left:5px;">
                              <span class="config-col-constain">isUnique</span>
                             </div>
                             
                          </div>                          

                      </div> 

                      <!--Buttons-->
                      <div class="" style="margin-top:5px;">
                        <div class="flex-general-row-wrapper">
                          <button ng-click="cancelConfigCol(column)" type="button" class="config-save-btn-cancel" style="color:black; background-color:white;border:1px solid #DBDCDD;">cancel</button>

                          <button ng-click="saveConfigCol(column)" type="button" class="config-save-btn-save db-color-bg" style="margin-left:2px; color:white;" >save</button>
                          
                        </div>                         
                      </div> 

                    </div>
                    <!--/Configure column-->

                  </div>
                  <!--/col dropdown-->
              </th> 

             <!--Extra Add Column-->
              <th class="addColTh">
                <div class="addColThDiv">                 
                  <div class="flex-general-row-wrapper-center" ng-mouseenter="showNewColumnPreview=!showNewColumnPreview" ng-mouseleave="showNewColumnPreview=!showNewColumnPreview" ng-click="initiateColumnSettings()" id="add-column-popup-btn">
                      <span>+</span>
                  </div>                                     
                </div> 

                <!--Add Column PopUp-->
                <div class="addColPopUpWrapper" ng-show="showAddColPopUp" id="add-column-popup" click-outside="closeAddCol()" outside-if-not="add-column-popup-btn">
                  <form name="addNewColumnForm" ng-submit="addColumn(addNewColumnForm.$valid)">
                      <div>
                        <label class="addcollabel" style="font-size:13px;">Enter new column name</label>
                        <input class="default-form-elem newcolInput noFocus" type="text" placeholder="New column name" required ng-keyup="checkErrorsForCreate(newColumnObj.name,currentProject.currentTable.columns,'column')" ng-model="newColumnObj.name">
                      </div>

                      <!--Default Select DataType--> 
                      <div style="margin-top:5px;">
                        <label class="addcollabel" style="font-size:13px;">Select Datatype</label>
                         <select   class="default-form-elem noFocus" ng-model="newColumnObj.dataType">
                              <option ng-repeat="dTypes in colDataTypes" ng-show="dTypes.visible" ng-selected="newColumnObj.dataType==dTypes.name" value="{{dTypes.name}}">{{dTypes.text}}</option>
                          </select>
                      </div>

                      <!--if dataType is List-->
                      <div  ng-if="newColumnObj.dataType=='List'" style="margin-top:5px;">
                        <label class="addcollabel" style="font-size:13px;">Select Target Type</label>
                         <select   class="default-form-elem noFocus" ng-model="newColumnObj.relatedTo">
                            <optgroup label="Tables">
                              <option ng-repeat="eachTable in currentProject.tables"  value="{{eachTable.name}}">{{eachTable.name}}</option>
                            </optgroup>
                            <optgroup label="Data Types">
                              <option ng-repeat="dTypes in colDataTypes | filter:filterDataType"  ng-show="dTypes.visible"  value="{{dTypes.name}}">{{dTypes.text}}</option>
                            </optgroup label="Tables">
                          </select>
                      </div>

                      <!--if dataType is Relation-->
                      <div  ng-if="newColumnObj.dataType=='Relation'" style="margin-top:5px;">
                        <label class="addcollabel" style="font-size:13px;">Target Type</label>
                         <select   class="default-form-elem noFocus" data-ng-model="newColumnObj.relatedTo">
                            <option ng-repeat="eachTable in currentProject.tables"  value="{{eachTable.name}}">{{eachTable.name}}
                            </option>
                          </select>
                      </div>

                      <div  class="flex-add-Bx" style="margin-top:8.5px;">
                        <!---->
                        <!--Column required--> 
                        <div class="add-Bx">
                              
                            <div  class="flex-add-Bx">
                                <div class="add-Bx">
                                    <label class="addcollabel">Required</label>              
                                </div>
                                <div class="add-Bx" style="margin-left:18px;">                                   
                                    <checkbox class="btn-default checkBxDflt chckbx-fix" ng-model="newColumnObj.required" style="border: 1px solid #DBDCDD;"></checkbox>
                                </div>         
                            </div>

                        </div>
                        <!--Column unique-->
                        <div ng-if="newColumnObj.dataType!='Boolean' && newColumnObj.dataType!='GeoPoint' && newColumnObj.dataType!='File' && newColumnObj.dataType!='List' && newColumnObj.dataType!='Object'" class="add-Bx">

                            <div  class="flex-add-Bx">
                                <div class="add-Bx">
                                     <label class="addcollabel">Unique</label>              
                                </div>
                                <div class="add-Bx">                                   
                                    <checkbox class="btn-default checkBxDflt chckbx-fix" ng-hide="col.dataType === 'List'"  ng-model="newColumnObj.unique" style="border: 1px solid #DBDCDD;"></checkbox>
                                </div>         
                            </div>

                        </div> 
                        <!---->        
                      </div>
                      <div style="margin-top:8px;" data-ng-show="columnErrorForCreate">
                        <span style="color:red;font-size:13px; word-break:all;">{{columnErrorForCreate}}</span>
                      </div>  
                      <div class="cf" style="margin-top:8px;">
                        <div class="pull-left">
                          <button type="button" class="addColBtn cancelColBtn " style="color:black; background-color:white;border:1px solid #DBDCDD;" ng-click="cancelAddNewCol()">Cancel</button> 
                        </div>
                        <div class="pull-left" style="margin-left:6px;">
                          <button type="submit" style="color:white;" class="addColBtn createColBtn db-color-bg" ng-disabled="columnErrorForCreate">Create</button>
                        </div>                    
                      </div>
                  </form>
                </div>  
                <!--/Add Column PopUp-->

                <!--Beacon-->
                <div ng-if="beacon && !beacon.firstColumn && !showAddColPopUp" ng-click="initiateColumnSettings()" class="first-column-beacon-container" style="cursor:pointer;"></div>
              </th>
              <!--/Extra Add Column--> 

              <!--Dummy th for space-->  
              <th id="extra-col-th" class="vacuumTh">
                <div class="vacuumThDiv">                 
                  <div class="flex-general-row-wrapper-center">                     
                  </div>                                  
                </div>  
              </th>           
              </tr> 
              <!--Dummy th for space--> 
          </thead> 
          <tbody>

            <tr ng-repeat="eachRow in currentTableData"  ng-mouseenter="flipToCheckBox($index)" ng-mouseleave="flipToSerialNo($index)">

              <!--default checkbox-->
              <td  class="fdataTd fix-collective-chkbx">
                  <div class="fTdDiv flex-general-row-wrapper-center">

                    <!--SerialNo-->
                    <span ng-if="!rowEditMode[$index] && !rowErrorMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index]" class="btn-default checkBxDflt chckbx-fix" class="sno">{{$index+1}}</span>

                    <!--Checkbox-->
                    <checkbox  ng-if="!rowEditMode[$index] && !rowErrorMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index]" class="btn-default checkBxDflt chckbx-fix"  ng-model="rowsSelected[$index]" ng-click="selectThisRow($index)"></checkbox>                    

                    <!--Edit mode-->
                    <span ng-if="rowEditMode[$index] && !rowErrorMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index]" class="sno-edit">
                      <i class="fa fa-pencil"></i>
                    </span>

                    <!--Warning mode-->
                    <span ng-if="rowWarningMode[$index] && !rowEditMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index] && !rowErrorMode[$index]" class="sno-warninginfo" infotooltipright="rowInfo">
                      <i class="fa fa-exclamation-triangle"></i>
                    </span>

                    <!--Error mode-->
                    <span ng-if="rowErrorMode[$index] && !rowWarningMode[$index] && !rowEditMode[$index] && !rowSpinnerMode[$index] && !rowSavedMode[$index]" class="sno-errorinfo" infotooltipright="rowInfo">
                      <i class="fa fa-exclamation-triangle"></i>
                    </span>

                    <!--Spinner-->
                    <span ng-if="rowSpinnerMode[$index] && !rowEditMode[$index] && !rowErrorMode[$index] && !rowSavedMode[$index] && !rowWarningMode[$index]" class="sno-spinner">
                      <i class="fa fa-spinner fa-spin"></i>
                    </span>

                    <!--Saved Tick-->
                    <span ng-if="rowSavedMode[$index] && !rowSpinnerMode[$index] && !rowEditMode[$index] && !rowErrorMode[$index] && !rowWarningMode[$index]" class="sno-saved">
                      <i class="fa fa-check"></i>
                    </span>                               

                  </div>              
              </td>  
              <!--/default checkbox-->

              <td ng-repeat="column in currentProject.currentTable.columns" ng-if="hideColumn[$index]"  class="dataTd">   
                
                <!--Id-->             
                <div ng-if="column.document.dataType==='Id'" class="tdDiv cf" style="min-width: 175px; cursor:default;">         
                  <div class="real-content pull-left">
                    {{eachRow.get(column.name)}}                 
                  </div>            
                </div>
                <!--/Id-->          

                <!--Boolean-->
                <div ng-if="column.document.dataType=='Boolean'"  class="tdDiv boolean-div cf" style="min-width: 165px">     
                  <div class="real-content-center flex-general-row-wrapper-center">  
                      <checkbox  class="btn-default checkBxDflt2 data-checkbx"  ng-model="eachRow.document[column.name]" ng-click="setAndSaveBoolean(eachRow,column)">
                      </checkbox>                     
                  </div>                  
                </div>
                <!--/Boolean-->

                <!--DateTime-->
                <div ng-if="column.document.dataType=='DateTime'" ng-dblclick="showCommonTypes(eachRow,column)" class="tdDiv cf" style="min-width: 260px"> 

                  <div ng-show="!showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left"> 
                    <span class="timeSpan">                      
                      {{eachRow.get(column.name) | date:'medium'}}
                    </span>                                
                  </div>                  
                  <div ng-show="showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">          
                    <input kendo-date-time-picker  focus-on="{{column.id}}column" value="{{editableField[$parent.$parent.$index][column.name]}}" k-ng-model="editableField[$parent.$parent.$parent.$index][column.name]"  class="dateTimeInput"  ng-blur="setAndSave()"/>

                  </div>

                </div>
                <!--/DateTime-->

                <!--ACL-->
                <div ng-if="column.document.dataType=='ACL'" class="tdDiv cf" style="min-width: 260px" ng-dblclick="showCommonTypes(eachRow,column); $event.stopPropagation()"> 

                  <div class="real-content-acl pull-left"> 
                    <div class="objectSpan-acl">

                      <!--Write User-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length>0 && eachRow.get(column.name).document.write.allow.user[0]!='all'">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">W</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                            <span>{{eachRow.get(column.name).document.write.allow.user.length}}</span>&nbsp;<span>Users</span>
                          </div>

                          <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                            ,<span>{{eachRow.get(column.name).document.write.allow.role.length}}</span>&nbsp;<span>Roles</span>
                          </div>

                        </div>
                      </div>
                      <!--/Write User-->  

                      <!--Write user=0,Role-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length==0 && eachRow.get(column.name).document.write.allow.role.length>0">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">W</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                            <span>{{eachRow.get(column.name).document.write.allow.user.length}}</span>&nbsp;<span>Users</span>
                          </div>

                          <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                            ,<span>{{eachRow.get(column.name).document.write.allow.role.length}}</span>&nbsp;<span>Roles</span>
                          </div>

                        </div>
                      </div>
                      <!--/Write user=0,Role--> 

                      <!--Read Write=0,user-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length==0 && eachRow.get(column.name).document.write.allow.role.length==0 && eachRow.get(column.name).document.read.allow.user.length>0 && eachRow.get(column.name).document.read.allow.user[0]!='all'">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">R</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                            <span>{{eachRow.get(column.name).document.read.allow.user.length}}</span>&nbsp;<span>Users</span>
                          </div>

                          <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                            ,<span>{{eachRow.get(column.name).document.read.allow.role.length}}</span>&nbsp;<span>Roles</span>
                          </div>

                        </div>
                      </div>
                      <!--/Read Write=0,user-->

                      <!--Read Write=0,user=0,role-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length==0 && eachRow.get(column.name).document.write.allow.role.length==0 && eachRow.get(column.name).document.read.allow.user.length==0 && eachRow.get(column.name).document.read.allow.role.length>0">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">R</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                            <span>{{eachRow.get(column.name).document.read.allow.user.length}}</span>&nbsp;<span>Users</span>
                          </div>

                          <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                            ,<span>{{eachRow.get(column.name).document.read.allow.role.length}}</span>&nbsp;<span>Roles</span>
                          </div>

                        </div>
                      </div>
                      <!--/Read Write=0,user=0,role-->


                      <!--Only Public write-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length>0 && eachRow.get(column.name).document.write.allow.user[0]=='all'">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">W</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                           &nbsp;<span style="color:gray;">Public Write Access</span>
                          </div>                 

                        </div>
                      </div>
                      <!--/Only Public write-->  

                      <!--Only Public read-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length==0 && eachRow.get(column.name).document.read.allow.user.length>0 && eachRow.get(column.name).document.read.allow.user[0]=='all'">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">R</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                           &nbsp;<span style="color:gray;">Public Read Access</span>
                          </div>                 

                        </div>
                      </div>
                      <!--/Only Public read--> 

                      <!--Everything null-->
                      <div ng-if="eachRow.get(column.name).document.write.allow.user.length==0 && eachRow.get(column.name).document.read.allow.user.length==0 && eachRow.get(column.name).document.write.allow.role.length==0 && eachRow.get(column.name).document.read.allow.role.length==0">
                        <div class="cf">

                          <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                            <span style="font-size:14px;color:white;">-</span>
                          </div>

                          <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                           &nbsp;<span style="color:gray;">No users</span>
                          </div>                 

                        </div>
                      </div>
                      <!--/Everything null-->                 

                    </div>                
                  </div>

                  <!--Popup Edit Button-->
                  <div class="modal-wrapper pull-right">
                      <a class="round-btn" ng-click="showCommonTypes(eachRow,column)">
                        <i class="fa fa-expand db-color-fg"></i>&nbsp;
                      </a>  
                  </div>
                  <!--/Popup Edit Button--> 

                </div>
                <!--/ACL-->

                <!--JsonObject-->
                <div ng-if="column.document.dataType=='Object'" class="tdDiv cf" style="min-width: 260px" ng-dblclick="showCommonTypes(eachRow,column); $event.stopPropagation()"> 

                  <div class="real-content pull-left"> 
                    <div class="objectSpan">
                      {{eachRow.get(column.name) }} 
                    </div>                
                  </div>

                  <!--Popup Edit Button-->
                  <div class="modal-wrapper pull-right">
                      <a class="round-btn" ng-click="showCommonTypes(eachRow,column)">
                        <i class="fa fa-expand db-color-fg"></i>&nbsp;
                      </a>  
                  </div>
                  <!--/Popup Edit Button--> 

                </div>
                <!--/JsonObject-->

                <!--Text-->
                <div ng-if="column.document.dataType=='Text'" ng-dblclick="showCommonTypes(eachRow,column)" class="tdDiv-fields cf" style="min-width: 260px"> 

                  <div ng-show="!showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">              
                      {{eachRow.get(column.name)}}                                
                  </div>

                   <div ng-show="showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">                             
                    <input type="text"  focus-on="{{column.id}}column" ng-model="editableField[$parent.$parent.$parent.$index][column.name]"   class="commonInput"  ng-blur="setAndSave()" />               
                  </div>

                </div>
                <!--/Text-->

                <!--Encrypted Text-->
                <div ng-if="column.document.dataType=='EncryptedText'" ng-dblclick="showCommonTypes(eachRow,column)" class="tdDiv-fields cf" style="min-width: 260px"> 

                  <div ng-show="!showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left"> 
                      <span ng-if="eachRow.get(column.name)">********</span>                    
                  </div>                

                  <div ng-show="showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">                             
                    <input type="text"  focus-on="{{column.id}}column" ng-model="editableField[$parent.$parent.$parent.$index][column.name]"   class="commonInput"  ng-blur="setAndSave()" />               
                  </div>

                  <!--Delete data-->
                  <div ng-if="(!column.required) && eachRow.get(column.name) && (!showInputForEdit[$parent.$parent.$parent.$index][column.name])" class="modal-wrapper pull-right"> 
                      <a class="delete-data-btn" ng-click="deleteData(eachRow,column)">             
                       <i class="fa fa-minus-circle"></i>&nbsp;
                      </a>                    
                  </div>
                  <!--/Delete data-->

                </div>
                <!--/Encrypted Text-->

                <!--Email-->
                <div ng-if="column.document.dataType=='Email'" ng-dblclick="showCommonTypes(eachRow,column)" class="tdDiv-fields cf" style="min-width: 260px"> 

                  <div ng-show="!showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left"> 
                    <a class="emailSpan" href="{{eachRow.get(column.name) }}" target="_blank">
                      {{eachRow.get(column.name) }}
                    </a>                
                  </div>

                  <div ng-show="showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">                             
                    <input type="text"  focus-on="{{column.id}}column" ng-model="editableField[$parent.$parent.$parent.$index][column.name]"   class="commonInput"  ng-blur="setAndSave()" />               
                  </div> 

                </div>
                <!--/Email-->

                <!--URL-->
                <div ng-if="column.document.dataType=='URL'" ng-dblclick="showCommonTypes(eachRow,column)" class="tdDiv-fields cf" style="min-width: 260px"> 

                  <div ng-show="!showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left"> 
                    <a class="emailSpan" href="{{eachRow.get(column.name) }}" target="_blank">
                      {{eachRow.get(column.name)}}
                    </a>                
                  </div>

                   <div ng-show="showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">                             
                    <input type="text"  focus-on="{{column.id}}column" ng-model="editableField[$parent.$parent.$parent.$index][column.name]"   class="commonInput"  ng-blur="setAndSave()" />               
                  </div> 

                </div>
                <!--/URL-->

                <!--Number-->
                <div ng-if="column.document.dataType=='Number'" ng-dblclick="showCommonTypes(eachRow,column)" class="tdDiv-fields cf" style="min-width: 260px"> 

                  <div ng-show="!showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">                    
                      {{eachRow.get(column.name)}}                                   
                  </div>

                   <div ng-show="showInputForEdit[$parent.$parent.$parent.$index][column.name]" class="real-content pull-left">                             
                    <input type="text"  focus-on="{{column.id}}column" ng-model="editableField[$parent.$parent.$parent.$index][column.name]"   class="commonInput"  ng-blur="setAndSave()" />               
                  </div> 

                </div>
                <!--/Number-->
               
                <!--File-->
                <div ng-if="column.document.dataType=='File'" class="tdDivFile cf" style="min-width: 190px"> 

                  <div class="real-content-file pull-left">
                    <div class="flex-general-row-wrapper-center"> 
                      <!--Image Files-->
                      <a ng-if="(eachRow.get(column.name).document.name | extension)=='jpeg' || (eachRow.get(column.name).document.name | extension)=='jpg' || (eachRow.get(column.name).document.name | extension)=='png' || (eachRow.get(column.name).document.name | extension)=='tif' || (eachRow.get(column.name).document.name | extension)=='gif'" ng-click="showCommonTypes(eachRow,column)">
                        <img  ng-src="{{eachRow.document[column.name].document.url}}" class="fileT-thumb-width" alt="image" />
                      </a> 

                      <!--Other Files-->
                      <a  ng-if="(eachRow.get(column.name).document.name | extension) && ((eachRow.get(column.name).document.name | extension)!='jpeg' && (eachRow.get(column.name).document.name | extension)!='jpg' && (eachRow.get(column.name).document.name | extension)!='png' && (eachRow.get(column.name).document.name | extension)!='tif' && (eachRow.get(column.name).document.name | extension)!='gif')" ng-click="showCommonTypes(eachRow,column)">
                        <img src="assets/images/file2.png" class="fileT-thumb-width2" alt="image" />
                      </a>
                         
                      <!--Add File-->   
                      <a ng-if="!eachRow.get(column.name)" class="square-btn fileT-thumb-width3" ng-click="showCommonTypes(eachRow,column)">
                        <div  class="db-color-fg">+</div>&nbsp;
                      </a>
                                                             
                    </div>         
                  </div>               

                </div>
                <!--/File-->

                <!--Relation-->
                <div ng-if="column.document.dataType=='Relation'"  class="tdDiv cf" style="min-width: 240px"> 

                  <div class="real-content pull-left"> 
                    <div ng-click="viewRelationData(eachRow,column,null)" ng-if="eachRow.document[column.name]" class="relation-id-wrapper cf">
                      <span class="pull-left">{{eachRow.get(column.name).document._id}}</span>
                      <span class="pull-right rel-del-times">
                        <i class="fa fa-times" ng-click="deleteRelLink(eachRow,column); $event.stopPropagation()"></i>
                      </span>
                    </div>                                    
                  </div>

                  <!--Popup Edit Button-->
                  <div class="modal-wrapper pull-right">
                      <a class="round-btn" ng-click="addRelation(eachRow,column)">
                        <i class="fa fa-expand db-color-fg"></i>&nbsp;
                      </a>  
                  </div>
                  <!--/Popup Edit Button--> 

                </div>
                <!--/Relation-->

                <!--List-->
                <div ng-if="column.document.dataType=='List'" class="tdDiv cf" style="min-width:325px"> 

                  <div class="real-content-list-text pull-left"> 
                      <!--TextText,Email,Number,URL--> 
                      <div ng-show="eachRow.document[column.name]" ng-if="column.document.relatedTo=='Text' || column.document.relatedTo=='Email' || column.document.relatedTo=='Number' || column.document.relatedTo=='URL'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                          <div ng-repeat="eachText in eachRow.document[column.name] track by $index" class="list-text">
                            <span ng-if="column.document.relatedTo!='EncryptedText'">{{eachText}}</span>
                            <span ng-if="column.document.relatedTo=='EncryptedText'" style="font-size:14px;">*****</span>
                          </div>                        

                        </div>           

                      </div>

                      <!--DateTime--> 
                      <div ng-show="column.document.relatedTo=='DateTime'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                          <div ng-repeat="eachDate in eachRow.document[column.name] track by $index" class="list-text">
                            <span>{{eachDate | date:'medium' }}</span>
                          </div>                        

                        </div>           

                      </div> 

                     <!--Boolean--> 
                     <div ng-show="column.document.relatedTo=='Boolean'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                         <div ng-repeat="eachText in eachRow.document[column.name] track by $index">
                            <!--True-->
                            <div  ng-if="eachText" class="list-text-true">
                              <span >{{eachText}}</span>                              
                            </div>
                            <!--False-->
                            <div ng-if="!eachText" class="list-text-false">                              
                              <span>false</span>
                            </div>
                         </div>

                        </div>           

                      </div>

                      <!--JSON-Object--> 
                      <div ng-show="column.document.relatedTo=='Object'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                         <div ng-repeat="eachJSON in eachRow.document[column.name] track by $index">
                                                    
                            <div class="list-Json">
                              <span>{{eachJSON || "null"}}</span>                              
                            </div>                

                         </div>

                        </div>           

                      </div>

                      <!--File--> 
                      <div ng-show="column.document.relatedTo=='File'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                         <div ng-repeat="eachFile in eachRow.document[column.name] track by $index" class="flex-general-row-wrapper">      
                            <!--Images-->                                              
                            <div ng-if="eachFile && eachFile.document.url && ((eachFile.document.name | extension)=='jpeg' || (eachFile.document.name | extension)=='jpg' || (eachFile.document.name | extension)=='png' || (eachFile.document.name | extension)=='tif' || (eachFile .document.name | extension)=='gif')" class="list-File-images">
                              <img ng-src="{{eachFile.document.url}}">                             
                            </div>
                            
                            <!--Other Files-->               
                            <div ng-if="eachFile && eachFile.document.url && ((eachFile.document.name | extension)!='jpeg' && (eachFile.document.name | extension)!='jpg' && (eachFile.document.name | extension)!='png' && (eachFile.document.name | extension)!='tif' && (eachFile .document.name | extension)!='gif')" class="list-File-others">
                              <img src="assets/images/file2.png">                             
                            </div>
                         </div>

                        </div>
                      </div>

                      <!--Geo Point--> 
                      <div  ng-if="column.document.relatedTo=='GeoPoint'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                         <div ng-repeat="eachGeo in eachRow.document[column.name] track by $index">
                            <div class="list-geopoint">
                              <div>
                                { <span>{{eachGeo.longitude}}</span>,&nbsp;
                                <span>{{eachGeo.latitude}}</span> }
                              </div>
                            </div>                         

                            <!--google map-->
                            <!--<div id="{{$parent.$parent.$index}}{{column.name}}listmap" class="googlemap-popup-wrapper hidden">
                              <div class="googlemap-popup-header">
                              </div>
                              <div class="googlemap-popup-content"> 
                                <ui-gmap-google-map center='map.center' zoom='map.zoom'>
                                    <ui-gmap-marker idkey='marker.id' coords='marker.coords'></ui-gmap-marker>
                                </ui-gmap-google-map>
                              </div> 
                            </div>-->
                            <!--google map--> 
                          </div>                      

                        </div>           

                      </div>

                      <!--Relation--> 
                      <div ng-show="eachRow.document[column.name]" ng-if="column.document.relatedTo!='Text' && column.document.relatedTo!='Email' && column.document.relatedTo!='Number' && column.document.relatedTo!='URL' && column.document.relatedTo!='DateTime' && column.document.relatedTo!='Boolean' && column.document.relatedTo!='File' && column.document.relatedTo!='Object' && column.document.relatedTo!='Geo Point'" class="cf list-text-wrapper">

                        <div class="pull-left text-list-torrent flex-general-row-wrapper">
                         
                          <div ng-repeat="eachRelation in eachRow.document[column.name] track by $index" class="list-relation" ng-click="viewRelationData(eachRow,column,$index)">
                            <span class="pull-left">{{eachRelation.document._id}}</span>&nbsp;
                            <span class="pull-right list-rel-del-times">
                              <i class="fa fa-times" ng-click="deleteListItemFromTable(eachRow,column,$index); $event.stopPropagation()"></i>
                            </span>
                          </div>                        

                        </div>           

                      </div> 

                  </div>

                  <!--Popup Edit Button-->
                  <div class="modal-wrapper pull-right">
                      <a class="round-btn" ng-click="showCommonTypes(eachRow,column)">
                        <i class="fa fa-expand db-color-fg"></i>&nbsp;
                      </a>  
                  </div>
                  <!--/Popup Edit Button--> 

                </div>
                <!--/List-->


                <!--Geo Point-->
                <div ng-if="column.document.dataType=='GeoPoint'" class="tdDiv cf geopoint-container" ng-dblclick="showCommonTypes(eachRow,column); $event.stopPropagation()"> 

                  <div ng-show="eachRow.document[column.name]" class="real-content geopoint-wrapper pull-left flex-general-row-wrapper-center"> 

                    <div  class="geopoint">
                      { <span>{{eachRow.get(column.name).longitude}}</span>,&nbsp;
                      <span>{{eachRow.get(column.name).latitude}}</span> }
                    </div> 
                   

                    <!--google map-->
                    <!--<div id="{{$parent.$parent.$parent.$index}}{{column.name}}map" class="googlemap-popup-wrapper hidden">
                      <div class="googlemap-popup-header">
                      </div>
                      <div class="googlemap-popup-content"> 
                        <ui-gmap-google-map center='map.center' zoom='map.zoom'>
                            <ui-gmap-marker idkey='marker.id' coords='marker.coords'></ui-gmap-marker>
                        </ui-gmap-google-map>
                      </div> 
                    </div>-->
                    <!--google map-->

                  </div>

                  <!--Popup Edit Button-->
                  <div class="modal-wrapper pull-right">
                      <a class="round-btn" ng-click="showCommonTypes(eachRow,column)">
                        <i class="fa fa-expand db-color-fg"></i>&nbsp;
                      </a>  
                  </div>
                  <!--/Popup Edit Button--> 

                </div>
                <!--/Geo Point-->

                <!--Others-->
                <div ng-if="column.document.dataType!='Id' && column.document.dataType!='Boolean' && column.document.dataType!='DateTime' && column.document.dataType!='ACL' && column.document.dataType!='Text' && column.document.dataType!='EncryptedText' && column.document.dataType!='Email' && column.document.dataType!='URL' && column.document.dataType!='Number' && column.document.dataType!='Object' && column.document.dataType!='File' && column.document.dataType!='Relation' && column.document.dataType!='List' && column.document.dataType!='GeoPoint'" class="tdDiv cf" style="min-width: 210px"> 

                  <div class="real-content pull-left">  
                    {{eachRow.get(column.name)}}              
                  </div>

                  <!--Popup Edit Button-->
                  <div class="modal-wrapper pull-right">
                      <a class="round-btn">
                        <i class="fa fa-expand db-color-fg"></i>&nbsp;
                      </a>  
                  </div>
                  <!--/Popup Edit Button--> 

                </div>
                <!--/Others-->            

              </td>            

             <!--Dummy tds for space-->
              <td class="" ng-class='{vacuumTd: !showNewColumnPreview}'>
              </td> 
              <td class="vacuumTd">
              </td>           
              <!--/Dummy tds for space-->
            </tr>

           <!--Extra Add row-->
            <tr>
              <td class="ldataTd addRowTd" ng-click="addRow()">
                  <div class="lTdDiv">
                      <div class="flex-general-row-wrapper-center">
                        <span>+</span>
                      </div>
                      
                      <!--Beacon-->
                      <div ng-if="beacon && !beacon.firstRow" ng-click="addRow()" class="first-row-beacon-container" style="cursor:pointer;"></div>  
                  </div> 
                            
              </td>
               <td  class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="hideColumn[$index]">
                <div class="tdDiv cf" ng-click="addRow()" style="cursor:cell;"> 
                </div>  
              </td>
              <td class="vacuumTd">
              </td> 
              <td class="vacuumTd">
              </td>
            </tr>
            <!--/Extra Add row-->

            <!--Dummy trs for space-->
            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">
                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="hideColumn[$index]">
                <div class="tdDiv cf"> 
                </div>  
              </td>
              <td>
              </td>
              <td>
              </td>  
            </tr>


            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">
                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="hideColumn[$index]">
                <div class="tdDiv cf"> 
                </div>  
              </td> 
              <td>
              </td> 
              <td>
              </td>
            </tr>

            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">
                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="hideColumn[$index]">
                <div class="tdDiv cf"> 
                </div>  
              </td>
              <td>
              </td>
              <td>
              </td>  
            </tr>

            <tr class="vacuumTr">
              <td class="ldataTd">
                 <div class="lTdDiv">
                       
                  </div> 
              </td>

              <td class="dataTd" ng-repeat="column in currentProject.currentTable.columns" ng-if="hideColumn[$index]">
                <div class="tdDiv cf"> 
                </div>  
              </td>
              <td>
              </td>
              <td>
              </td>  
            </tr>
            <!--/Dummy trs for space-->

          </tbody>
        </table>
        </div>
        <!--/Normal Flow Table-->

        <!--Load spinner for Records-->
        <div ng-if="loadingRecords"class="wyl-records-loading flex-general-column-wrapper-center">
          <div>
            <i class="fa fa-spinner fa-spin fa-3x"></i>
          </div> 
        </div> 
        <!--/Load spinner for Records-->       
       
        </div> 
        
     </div> 
  </div>  
  <!--/Table-->
    
  <!--While Loading FirstTime-->
  <div ng-show="!isTableLoaded || tableLoadedError" class="wyl-table-first-loading">
    <div id="table-spinner" class="flex-general-column-wrapper-center">
        <div ng-show="!isTableLoaded">
          <!--Animated Circle-->
          <div class="cssload-bell">
            <div class="cssload-circle">
              <div class="cssload-inner"></div>
            </div>
            <div class="cssload-circle">
              <div class="cssload-inner"></div>
            </div>
            <div class="cssload-circle">
              <div class="cssload-inner"></div>
            </div>
            <div class="cssload-circle">
              <div class="cssload-inner"></div>
            </div>
            <div class="cssload-circle">
              <div class="cssload-inner"></div>
            </div>
          </div>
          <!--/Animated Circle-->
        </div>     

        <!--Error in loading records-->
        <div ng-show="tableLoadedError"style="margin-top:63px;">
         <span style="font-size:18px;color:gray;">
          <i class="fa fa-exclamation-triangle"></i>&nbsp;{{tableLoadedError}}</span>
        </div>

    </div>
  </div>  
  <!--/While Loading FirstTime-->

</div>

<!-- EditACL Modal -->
<div class="modal fade colored-header danger" id="md-aclviewer" tabindex="-1" role="dialog">
  <div class="modal-dialog">
      <div class="modal-content cf">

        <div class="acl-header pull-left db-color-bg">
          <h4 style="font-weight:600;margin-top:4px;color:white;">Access Control List (ACL)</h4>
        </div>
        <div class="pull-right modalX db-color-bg" style="padding-top:14px;height:40px;border-top-right-radius: 4px;border:1px solid #4892F9;">
          <button type="button" class="close" style="font-size:24px !important;" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>  

        <div class="acl-main-body">        
         
          <div class="acl-wrapper" style="padding-top:15px !important;">         

            <!--Public User-->
            <div  ng-show="aclPublic.id=='all'" class="acl-content flex-general-row-wrapper">           
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;">
                  <i class="icon ion-person-stalker" style="cursor:default;"></i>
                  
                  {{aclPublic.name}}
                </p>                   
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <!--Read-->               
                <div class="flex-equal-ratio-items flex-general-row-wrapper"> 
                  <!--Null-->            
                  <div ng-show="aclPublic.readValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'read',true,aclPublic.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="aclPublic.readValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'read',false,aclPublic.id,'user')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="aclPublic.readValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'read',null,aclPublic.id,'user')">        
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">                 

                  <!--Null-->            
                  <div ng-show="aclPublic.writeValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'write',true,aclPublic.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="aclPublic.writeValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'write',false,aclPublic.id,'user')">           
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="aclPublic.writeValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'write',null,aclPublic.id,'user')">  
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>                       
                </div>             

                <!--Remove-->
                <div style="width:25px;">
                  <i class="fa fa-question-circle" style="color:gray;margin-top:5px;" normaltooltipleft="msg='Public read and write permissions'"></i>
                </div> 
              </div>
            </div>
            <!--/Public User-->

            <!--User-->
            <div ng-repeat="user in aclUsers" ng-show="user.id!='all'" class="acl-content flex-general-row-wrapper">           
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;">
                  <i ng-show="user.player=='User'" class="icon ion-person-stalker" style="cursor:default;"></i>
                  <i ng-show="user.player=='Role'" class="icon ion-unlocked" style="cursor:default;"></i>
                  {{user.name}} <span ng-show="user.id!='all'" style="color:#A09F9F">({{user.id}})</span> 
                </p>                   
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <!--Read-->               
                <div class="flex-equal-ratio-items flex-general-row-wrapper"> 
                  <!--Null-->            
                  <div ng-show="user.readValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'read',true,user.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="user.readValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'read',false,user.id,'user')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="user.readValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'read',null,user.id,'user')">        
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">                 

                  <!--Null-->            
                  <div ng-show="user.writeValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'write',true,user.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="user.writeValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'write',false,user.id,'user')">           
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="user.writeValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'write',null,user.id,'user')">  
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>                       
                </div>             

                <!--Remove-->
                <div style="width:25px;">
                  <i ng-show="user.id!='all'" class="fa fa-times" style="color:#C4C2C2;" ng-click="removeACL(user.player,user.id,'user',editableRow)"></i>
                </div> 
              </div>
            </div>
            <!--/User-->

            <!--Role-->
            <div ng-repeat="role in aclRoles" class="acl-content flex-general-row-wrapper">            
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;">
                  <i ng-show="role.player=='User'" class="icon ion-person-stalker" style="cursor:default;"></i>
                  <i ng-show="role.player=='Role'" class="icon ion-unlocked" style="cursor:default;"></i>
                  {{role.name}} <span style="color:#A09F9F">({{role.id}})</span> 
                </p>
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <!--Read-->               
                <div class="flex-equal-ratio-items flex-general-row-wrapper"> 
                  <!--Null-->            
                  <div ng-show="role.readValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'read',true,role.id,'role')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="role.readValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'read',false,role.id,'role')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="role.readValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'read',null,role.id,'role')">        
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">    

                  <!--Null-->            
                  <div ng-show="role.writeValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'write',true,role.id,'role')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="role.writeValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'write',false,role.id,'role')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="role.writeValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'write',null,role.id,'role')"> 
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>                   
                </div>             

                <!--Remove-->
                <div style="width:25px;">
                  <i class="fa fa-times" style="color:#C4C2C2;" ng-click="removeACL(role.player,role.id,'role',editableRow)"></i>
                </div> 
              </div>
            </div>
            <!--/Role-->

            <!--Add New-->
            <div ng-repeat="newACL in addACL">
            <div  class="acl-content flex-general-row-wrapper">            
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;"> 
                  <i ng-show="newACL.player=='User'" class="icon ion-person-stalker" style="cursor:default;"></i>
                  <i ng-show="newACL.player=='Role'" class="icon ion-unlocked" style="cursor:default;"></i>
                  {{newACL.name}} <span style="color:#A09F9F">({{newACL.id}})</span>
                </p>
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <div class="flex-equal-ratio-items flex-general-row-wrapper">              

                  <!--Null-->            
                  <div ng-show="newACL.read==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'read',true,newACL.id,'newacl')">        
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="newACL.read==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'read',false,newACL.id,'newacl')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="newACL.read==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'read',null,newACL.id,'newacl')"> 
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>                   
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">
                  
                 <!--Null-->            
                  <div ng-show="newACL.write==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'write',true,newACL.id,'newacl')">        
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="newACL.write==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'write',false,newACL.id,'newacl')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="newACL.write==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'write',null,newACL.id,'newacl')"> 
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>
                </div>             

                <!--Remove-->
                <div style="width:25px;" class="acl-remv">
                  <i class="fa fa-times" style="color:#C4C2C2;" ng-click="removeACL(newACL.player,newACL.id,'newacl',editableRow)"></i>
                </div> 
              </div>
            </div>
            </div>
            <!--/Add New-->  

            <!--Spinner-->
            <div ng-show="newACLSpinner">
            <div  class="acl-content flex-general-row-wrapper">            
              <div  class="acl-player">
                <p> 
                  <i class="fa fa-spinner fa-spin"></i>
                </p>
              </div>
              <div class="acl-player-controll flex-general-row-wrapper"> 
                &nbsp;
              </div>
            </div>
            </div>
            <!--/Spinner-->          

            <!--Head-->
            <div class="acl-head flex-general-row-wrapper">
              <div class="acl-player flex-general-row-wrapper">
                <div class="acl-search-bx flex-general-row-wrapper" style="width:72%;margin-top:1px;">
                  <div style="width:93.5%">
                   <input id="acl-search-id" type="text"  autokomplete class="acl-search-input" style="width:100%" placeholder="User or Role">
                  </div> 
                  <div style="width:4.5%; margin-left:3px;">
                    <i class="fa fa-search" style="margin-top:5px;color:#A6AFB6;"></i>
                  </div>                                  
                </div>                
              </div>             
            </div>
            <!--/Head-->        
          
        </div>
      </div>  
      <div class="modal-footer">
        
        <a class="pull-left" style="margin-top:5px; color:#BFBDBD;text-decoration:underline;" href="https://tutorials.cloudboost.io/?lang=en&category=security&subcategory=acl" target="_blank">Why are ACLs important?</a>
         
        <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary cb-modal-default-btn" ng-click="setAndSaveACLObject()" >Save</button>
      </div>    
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<!-- EditACL Modal -->

<!-- EditJSON Modal -->
<div class="modal fade colored-header danger" id="md-objectviewer" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">        
      <div style="height:55px; width:100%;padding:13px;">
        <div class="pull-left" style="padding-left:8px;">
          <span style="font-size:18px;">{{editableColumn.name}}</span>
        </div>          
      </div>

      <!--Saving Errors--> 
      <div style="width:100%;">
        <div ng-show="commonError" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:commonError}" class="fadeIn">

          <div class="pull-left" style="padding-top:1px;">                
            <span>{{commonError}}</span>
          </div>

          <div class="pull-right" ng-click="commonError=!commonError">
            <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
          </div>  

        </div>  
      </div>  
      <!--/Saving Errors-->

      <div style="border-top:1px solid #dddbdb;">        
       
        <div ui-ace="{ mode: 'json', theme: 'chrome' }" ng-model="editableJsonObj">
        </div>
        
      </div>
      
      <div class="modal-footer">        
        <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

        <!--Disabled Save-->
        <button type="button" ng-show="commonError" style="color:gray;cursor:pointer !important;" class="btn btn-default cb-modal-default-btn">Save</button>

        <!--Enabled Save-->
        <button type="button" ng-show="!commonError" ng-click="setAndSaveJsonObject()" class="btn btn-primary cb-modal-default-btn" >Save</button>   
      </div>

    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<!-- EditJSON Modal -->

<!-- EditFile Modal (id="md-fileviewer")-->
<div class="modal fade colored-header danger" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">         

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">Files</span>
          </div>          
        </div>

        <div class="modal-body" style="border-top:1px solid #dddbdb;">

          <div class="flex-general-row-wrapper-center">
            <!--Add file-->
            <!-- D&D Markup -->
            <div ng-if="!editableFile && !selectedFile" class="uploader" dmuploader>
              <div>Drag &amp; Drop Files Here</div>
              <div class="or">-or-</div>
              <div class="browser">
                <label class="db-color-bg">
                  <span>Choose files</span>
                  <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                </label>
              </div>
            </div>
            <!-- /D&D Markup -->           

            <div  ng-if="selectedFile && selectedFileExtension">  
              <!--View File for Images-->
              <div ng-if="selectedFile  && (selectedFileExtension=='jpeg' || selectedFileExtension=='jpg' || selectedFileExtension=='png' || selectedFileExtension=='tif' || selectedFileExtension=='gif')" class="modal-view-file flex-general-column-wrapper-center">  

                <!--Image-->
                <div class="">
                  <a class="modal-anchor">
                    <img ng-src="{{selectedFile}}">                  
                  </a>                  
                </div>

                <div class="flex-general-row-wrapper-center">
                  <span style="margin-top:12px;">{{selectedfileName}}</span> 
                </div>

              </div> 

              <!--View File for Other Files-->
              <div ng-if="selectedFile  && (selectedFileExtension!='jpeg' && selectedFileExtension!='jpg' && selectedFileExtension!='png' && selectedFileExtension!='tif' && selectedFileExtension!='gif')" class="modal-view-other-file flex-general-column-wrapper-center">

                  <!--Image-->
                  <div>
                    <a class="modal-anchor flex-general-row-wrapper-center">
                      <img src="assets/images/file2.png">                  
                    </a>                  
                  </div> 

                  <div class="flex-general-row-wrapper-center">
                    <span style="margin-top:12px;">{{selectedfileName}}</span> 
                  </div>               

                </div>
              
            </div>

            <div  ng-if="!selectedFile">  
              <!--View File for Images-->
              <div ng-if="editableFile && editableFile.document.url && ((editableFile.document.name | extension)=='jpeg' || (editableFile.document.name | extension)=='jpg' || (editableFile.document.name | extension)=='png' || (editableFile.document.name | extension)=='tif' || (editableFile.document.name | extension)=='gif')" class="modal-view-file">

                <!--Image-->
                <div>
                  <a class="modal-anchor flex-general-row-wrapper-center">
                    <img ng-src="{{editableFile.document.url}}">                  
                  </a>                  
                </div>
                <div class="flex-general-row-wrapper-center">
                  <span style="margin-top:14px;">{{editableFile.document.name}}</span> 
                </div>           

              </div> 

               <!--View File for Other Files-->
              <div ng-if="editableFile && editableFile.document.url && ((editableFile.document.name | extension)!='jpeg' && (editableFile.document.name | extension)!='jpg' && (editableFile.document.name | extension)!='png' && (editableFile.document.name | extension)!='tif' && (editableFile.document.name | extension)!='gif')" class="modal-view-other-file">

                  <!--Image-->
                  <div>
                    <a class="modal-anchor flex-general-row-wrapper-center">
                      <img src="assets/images/file2.png">                  
                    </a>                  
                  </div> 

                  <div class="flex-general-row-wrapper-center">
                    <span style="margin-top:14px;">{{editableFile.document.name}}</span>  
                  </div>             

                </div>  
            </div>     

          </div>

        </div><!--/model-body-->

        <!--Footer-->
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

          <!--New File-->
          <!--Save-->
          <button type="button" ng-if="selectedFile && selectedFileExtension" ng-click="setAndSaveFile()" class="btn btn-primary cb-modal-default-btn-long" ><i class="fa fa-floppy-o"></i>&nbsp;Save</button>

          <!--Remove File-->
          <button type="button" ng-if="selectedFile && selectedFileExtension" ng-click="removeSelectdFile()" class="btn btn-danger cb-modal-default-btn-long" ><i class="fa fa-times-circle-o"></i>&nbsp;Remove</button> 
          <!--/New File-->


          <!--File View-->
          <!--Save-->
          <a ng-if="!selectedFile && editableFile && editableFile.document.url" href="{{editableFile.document.url}}" target="_blank" class="btn btn-primary cb-modal-default-btn-long" ><i class="fa fa-download"></i>&nbsp;Download</a>

          <!--Remove File-->
          <button ng-if="!selectedFile && editableFile && editableFile.document.url" type="button" ng-click="deleteFile()" class="btn btn-danger cb-modal-default-btn-long" ><i class="fa fa-trash-o"></i>&nbsp;Delete</button> 
          <!--/File View-->

        </div>

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- EditFile Modal -->


<!--GEO POINT-->
<!-- Add/Remove GeoPoint -->
  <div class="modal fade colored-header danger" id="md-geodocumentviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">        

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">{{editableColumn.name}}</span>
          </div>          
        </div>

        <!--Saving Errors--> 
        <div style="width:100%;">
          <div ng-show="geopointEditError" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:geopointEditError}" class="fadeIn">

            <div class="pull-left" style="padding-top:1px;">                
              <span>{{geopointEditError.msg}}</span>
            </div>

            <div class="pull-right" ng-click="geopointEditError=!geopointEditError">
              <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
            </div>  

          </div>  
        </div>  
        <!--/Saving Errors-->


        <div style="border-top:1px solid #dddbdb;">
          <form role="form" name="geoPointForm" ng-submit="setAndSaveGeopoint(geoPointForm.$valid)">

            <div class="madd-relation-wrapper">            
              <div class="geopoint-list-wrapper">

                  <div class="geo-point-add-remv flex-general-row-wrapper-center">
                    <div class="flex-general-row-wrapper">


                      <!--Longitude-->
                      <div>
                        
                        <div class="geopoint-name">
                          <h4>Longitude</h4>
                        </div>

                        <input type="text" ng-model="editableGeopoint.longitude" class="geopoint-inputz" ng-blur="geoPointValidation('longitude',editableGeopoint.longitude)" minlength="-180" maxlength="180" required>
                       
                      </div>

                      <!--Latitude-->
                      <div style="margin-left:4px;">

                        <div class="geopoint-name">
                          <h4>Latitude</h4>                          
                        </div>  
                        
                        <input type="text" ng-model="editableGeopoint.latitude" class="geopoint-inputz"  ng-blur="geoPointValidation('latitude',editableGeopoint.latitude)" minlength="-90" maxlength="90" required>                        
                      </div>
                     

                    </div> 
                  </div>
                  
              </div> 
            </div>             

            <div class="modal-footer">        
              <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
              <!--Disabled Save-->
              <button type="submit" ng-show="geopointEditError"  class="btn  cb-modal-default-btn" style="color:gray !important;">Save</button> 

              <!--Enabled Save-->
              <button type="submit" ng-show="!geopointEditError" class="btn btn-primary cb-modal-default-btn" >Save</button>
            </div>

        </form>
        </div>        

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /Add/Remove GeoPoint -->


<!-- Add Relation Modal -->
<div class="modal fade colored-header danger" id="md-reldocumentviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="pull-right modalX">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>  
        <div class="flex-general-row-wrapper-center modalH">
          <h3>Relation Documents</h3>        
        </div>      
        <div class="modal-body">
          <div class="madd-relation-wrapper">
            <div  ng-show="!linkedRelatedDoc" class="add-relation-btn-wrapper">
              <button type="button"  ng-click="searchRelationDocs()" class="add-relation-btn">Add Relation</button>
            </div> 
            <!--Relation-->
            <div ng-show="linkedRelatedDoc && !relToRel" class="relationid-list-wrapper" malihuscrollbar-for-popup>

                <div class="relationid-single-docs flex-general-row-wrapper-center cf">
                  <div class="m-relationid id-show">
                    
                     {{linkedRelatedDoc}}
                    
                  </div>
                  <div class="m-remove-relation remv-show">
                    <div ng-click="deleteRelLink()">
                     <i class="fa fa-times"></i>
                    </div>
                  </div>  
                </div>
                
            </div> 

            <!--Relation of relation-->
            <div ng-show="linkedRelatedDoc && relToRel" class="relationid-list-wrapper" malihuscrollbar-for-popup>

                <div class="relationid-single-docs flex-general-row-wrapper-center cf">
                  <div class="m-relationid id-show">
                    
                     {{linkedRelatedDoc}}
                    
                  </div>
                  <div class="m-remove-relation remv-show">
                    <div ng-click="setRelationData(relEditableRow,relEditableColumn,null)">
                     <i class="fa fa-times"></i>
                    </div>
                  </div>  
                </div>
                
            </div>

          </div> 
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /Add Relation Modal -->

<!-- Search Relation Documents Modal -->
  <div class="modal fade colored-header danger" id="md-searchreldocument"  tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content"> 

        <div class="" style="background-color: #F0F0F0;border-top-left-radius:5px;border-top-right-radius:5px;">

          <div  class="search-rel-wrapper cf" style="background-color:white;border-top-left-radius:5px;border-top-right-radius:5px;">
              <div class="rel-search-btn-wrapper flex-general-row-wrapper pull-left" style="width:96%;">
                <div class="rel-searchIcon">
                  <i class="fa fa-search"></i>
                </div>
                <div class="rel-searchBx">
                  <input type="text" ng-model="searchRelDocId" placeholder="Find a record to link">
                </div>                
              </div>                                
          </div>
          
          <!--List-->
          <div ng-show="!searchRelDocsError && relationTableData.length>0" class="md-search-relation-wrapper">
            
            <div class="relationid-list-wrapper" malihuscrollbar-for-popup>

                <!--show list-->
                <div ng-show="relationTableData.length>0 && !relToRel" ng-repeat="eachRelRow in relationTableData | filter:searchRelDocId" class="relationid-list">

                  <div class="m-relationid" ng-click="linkRecord(eachRelRow)">
                     <div class="neorel-wrapper cf">

                      <div class="pull-left" ng-repeat="fileCol in (filterImages=(tableDef.columns | getImageFromArray))">

                        <div ng-show="eachRelRow.get(fileCol.name) && ((eachRelRow.get(fileCol.name).document.name | extension)=='jpeg' || (eachRelRow.get(fileCol.name).document.name | extension)=='jpg' || (eachRelRow.get(fileCol.name).document.name | extension)=='png' || (eachRelRow.get(fileCol.name).document.name | extension)=='tif' || (eachRelRow.get(fileCol.name).document.name | extension)=='gif')" style="margin-right:5px;">  
                                                 
                          <img  ng-src="{{eachRelRow.get(fileCol.name).document.url}}" class="neorel-img">
                        </div>

                      </div>

                      <div class="pull-left" style="padding-top:4px; padding-bottom:2px;padding-left:2px;">
                        <div style="font-size:14px;">{{eachRelRow.get('id')}}</div>     

                        <div style="font-size:12px;" ng-repeat="textCol in (Texts=(tableDef.columns | getTextFromArray))" ng-show="eachRelRow.get(textCol.name)">{{eachRelRow.get(textCol.name)}}</div>
                      
                        <div style="margin-top:3.5px;color:#A09F9F;font-style: italic;">{{eachRelRow.get('createdAt') | date:'medium'}}</div>
                      </div>

                     </div>
                  </div>

                </div>                

                <!--show list of relation to relation-->
                <div ng-show="relationTableData.length>0 && relToRel" ng-repeat="eachRelRow in relationTableData | filter:searchRelDocId" class="relationid-list">
                  <div class="m-relationid" ng-click="setRelationData(relEditableRow,relEditableColumn,eachRelRow)">

                     <div class="neorel-wrapper cf">

                      <div class="pull-left" ng-repeat="fileCol in (filterImages=(tableDef.columns | getImageFromArray))">

                        <div ng-show="eachRelRow.get(fileCol.name) && ((eachRelRow.get(fileCol.name).document.name | extension)=='jpeg' || (eachRelRow.get(fileCol.name).document.name | extension)=='jpg' || (eachRelRow.get(fileCol.name).document.name | extension)=='png' || (eachRelRow.get(fileCol.name).document.name | extension)=='tif' || (eachRelRow.get(fileCol.name).document.name | extension)=='gif')" style="margin-right:5px;">  
                                                 
                          <img  ng-src="{{eachRelRow.get(fileCol.name).document.url}}" class="neorel-img">
                        </div>

                      </div>

                      <div class="pull-left" style="padding-top:4px; padding-bottom:2px;padding-left:2px;">
                        <div style="font-size:14px;">{{eachRelRow.get('id')}}</div>     

                        <div style="font-size:12px;" ng-repeat="textCol in (Texts=(tableDef.columns | getTextFromArray))" ng-show="eachRelRow.get(textCol.name)">{{eachRelRow.get(textCol.name)}}</div>
                      
                        <div style="margin-top:3.5px;color:#A09F9F;font-style: italic;">{{eachRelRow.get('createdAt') | date:'medium'}}</div>
                      </div> 

                     </div>

                  </div>  
                </div>              

            </div>  
          </div>          

          <!--no records-->
          <div ng-show="!searchRelDocsError && (!relationTableData || relationTableData.length==0)" class="relationid-list-empty flex-general-column-wrapper-center" style="margin-top:20px;">
            <div class="flex-general-column-wrapper-center">                  
                <p style="font-size:16px; color:gray;">Table {{tableDef.name}} has no records</p>
                <p>                 
                  <button type="button" ng-click="goToDataBrowser(tableDef)" class="btn db-color-bg" style="border-radius:3px;color:white;border:none;">Add Records</button>
                </p>                  
            </div>                              
          </div>

          <!--Error-->
          <div style="width: 100%;height:250px;background-color: #F0F0F0;" class="flex-general-column-wrapper-center" ng-if="searchRelDocsError">
            <div class="flex-general-column-wrapper-center">
              <p style="color:gray;font-size:14px;">{{searchRelDocsError}}</p>
            </div> 
          </div>  

        </div>
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
      
    </div><!-- /.modal-dialog -->
</div>
<!-- /Search Relation Documents Modal -->

<!-- Relation Modal -->
  <div class="modal fade colored-header danger" id="md-relationviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog cb-md-custom-width">
      <div class="modal-content">             
        <div class="">        

          <!--Modal table header-->
          <div class="row">
            <div class="col-md-12">
              <div class="m-table-header db-color-bg" style="border-top-left-radius:4.8px; border-top-right-radius:4.8px;">
                  <div class="pull-left">

                    <!--More than one relations-->
                    <div ng-if="relatedTableDefArray && relatedTableDefArray.length>1" ng-click="goToPrevRel()" class="db-color-fg flex-general-column-wrapper-center" style="width:25px;height:25px;border-radius:25px; background-color:white;margin-top:7px;">   
                      <i class="icon ion-android-arrow-back db-color-fg" style="font-size:20px;"></i>
                    </div>

                    <!--Dummy-->
                    <div class="db-color-fg flex-general-column-wrapper-center" style="width:22px;height:22px;margin-top:5px;"> 
                    </div>  

                 </div> 

                 <div class="pull-left">
                  <h4 style="margin-left:2px;">
                    {{relatedTableDefArray[relatedTableDefArray.length-1].name}}
                  </h4>
                 </div> 

                 <div class="pull-right flex-general-column-wrapper-center">
                    <button type="button" class="close" ng-click="closeRelModal()" aria-hidden="true" style="margin-top:3px;">&times;</button>
                 </div>
              </div>  
            </div>  
          </div>  
          <!--/Modal table header--> 

          <!--Saving Errors--> 
          <div style="width:100%;">
            <div ng-show="relationErrorMode && !relationSpinnerMode && !relationSaveTickMode" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3px;" ng-class="{animated:relationErrorMode}" class="fadeIn">

              <div class="pull-left" style="padding-top:1px;">                
                <span>{{relationErrorMode}}</span>
              </div>

              <div class="pull-right" ng-click="removeRelErrors()">
                <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
              </div>  

            </div>  
          </div>  
          <!--/Saving Errors-->

          <!--Modal Error-->
          <div ng-if="(viewRelDataError[viewRelDataError.length-1]) || (relatedTableRecordArray.length==0) || (!relatedTableRecordArray[relatedTableRecordArray.length-1])" class="relation-data-wrapper">
            <div id="relationTable">          
              
              <div class="modal-rel-form flex-general-column-wrapper" style="width:100%; height:100%;">
                <div class="flex-general-column-wrapper-center" style="width:100%; height:100%;">                  
                  <div class="m-key cf flex-general-column-wrapper-center">
                    <span style="font-size:14px; color:#BFBFBF">{{viewRelDataError[viewRelDataError.length-1] || 'Null CloudObject'}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div> 
          <!--Modal Error-->             
         
          <!--Modal Related Table Form-->
          <div ng-if="(!viewRelDataError[viewRelDataError.length-1]) && (relatedTableRecordArray.length!=0) && (relatedTableRecordArray[relatedTableRecordArray.length-1])" class="relation-data-wrapper">
            <div id="relationTable" malihuscrollbar-for-popup>          
              
              <div class="modal-rel-form flex-general-column-wrapper">
                <div class="m-key-value flex-general-column-wrapper-center" ng-repeat="relCol in relatedTableDefArray[relatedTableDefArray.length-1].columns">
                  <!--Column Name-->
                  <div class="m-key cf">
                    
                    <div class="pull-left m-col-icon">
                      <!--Id-->
                      <i ng-if="relCol.document.dataType==='Id'" class="fa fa-bullseye col-icon-size"></i>

                      <!--Boolean-->
                      <i ng-if="relCol.document.dataType=='Boolean'" class="fa fa-check col-icon-size"></i>

                       <!--DateTime-->
                      <i ng-if="relCol.document.dataType=='DateTime'" class="fa fa-calendar-o col-icon-size"></i>

                      <!--ACL-->
                      <i ng-if="relCol.document.dataType=='ACL'" class="fa fa-lock col-icon-size"></i>

                      <!--Object-->
                      <i ng-if="column.document.dataType=='Object'" class="fa fa-circle col-icon-size"></i>

                      <!--Text-->
                      <i ng-if="relCol.document.dataType=='Text'" class="fa fa-text-height col-icon-size"></i>

                      <!--Encrypted Text-->
                      <i ng-if="relCol.document.dataType=='EncryptedText'" class="fa fa-asterisk col-icon-size"></i>

                      <!--Email-->
                      <i ng-if="relCol.document.dataType=='Email'" class="fa fa-envelope-o col-icon-size"></i>

                      <!--URL-->
                      <i ng-if="relCol.document.dataType=='URL'" class="fa fa-globe col-icon-size"></i>

                      <!--Number-->
                      <i ng-if="relCol.document.dataType=='Number'" class="fa fa-th col-icon-size"></i>

                      <!--File-->
                      <i ng-if="relCol.document.dataType=='File'" class="fa fa-paperclip col-icon-size"></i>

                      <!--Relation-->
                      <i ng-if="relCol.document.dataType=='Relation'" class="fa fa-external-link col-icon-size"></i>

                      <!--List-->
                      <i ng-if="relCol.document.dataType=='List'" class="fa fa-bars col-icon-size"></i>

                      <!--GeoPoint-->
                      <i ng-if="relCol.document.dataType=='GeoPoint'" class="fa fa-map-marker col-icon-size"></i>
                    </div>
                    <div class="pull-left m-col-name">
                      {{relCol.name}}
                    </div> 

                  </div>
               

                  <!--Id-->
                  <div ng-if="relCol.document.dataType=='Id'" class="m-value">
                      <div class="m-data-container cf" style="height:37px;">

                        <div class="m-real-content pull-left"> 
                          <div class="m-id-aura">                         
                          {{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name)}}
                          </div>                                        
                        </div>
                      </div>
                  </div>                 

                  <!--Boolean-->
                  <div ng-if="relCol.document.dataType=='Boolean'" class="m-value">
                      <div class="m-data-container-chk cf" style="height:10px !important;">

                        <div class="m-real-content-chk pull-left">
                          <checkbox  class="btn-default checkBxDflt data-checkbx"  ng-model="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" ng-change="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" style="margin-left:14px;">
                          </checkbox>
                        </div>                       

                      </div>
                  </div>

                  <!--DateTime-->
                  <div ng-if="relCol.document.dataType=='DateTime'" class="m-value">
                      <div class="m-data-container-datetime cf" style="height:30px;">

                        <div class="m-real-contentent-datetime pull-left">
                          <input kendo-date-time-picker  value="{{relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]}}"  k-ng-model="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]"   ng-blur="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="dateTimeInput"/>
                        </div>                       

                      </div>
                  </div>

                  <!--ACL-->
                  <div ng-if="relCol.document.dataType=='ACL'" class="m-value" ng-dblclick="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol); $event.stopPropagation()">
                      <div class="m-data-container cf m-acl-cust">

                        <div class="m-real-content-acl pull-left">
                          <div class="m-acl-aura">

                            <!--Write User-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length>0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user[0]!='all'">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">W</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                    <span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length}}</span>&nbsp;<span>Users</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                                    ,<span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.role.length}}</span>&nbsp;<span>Roles</span>
                                  </div>

                                </div>
                              </div>
                              <!--/Write User-->  

                              <!--Write user=0,Role-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.role.length>0">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">W</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                    <span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length}}</span>&nbsp;<span>Users</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                                    ,<span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.role.length}}</span>&nbsp;<span>Roles</span>
                                  </div>

                                </div>
                              </div>
                              <!--/Write user=0,Role--> 

                              <!--Read Write=0,user-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.role.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user.length>0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user[0]!='all'">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">R</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                    <span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user.length}}</span>&nbsp;<span>Users</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                                    ,<span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.role.length}}</span>&nbsp;<span>Roles</span>
                                  </div>

                                </div>
                              </div>
                              <!--/Read Write=0,user-->

                              <!--Read Write=0,user=0,role-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.role.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.role.length>0">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">R</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                    <span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user.length}}</span>&nbsp;<span>Users</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:3px;margin-top:2.3px;">
                                    ,<span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.role.length}}</span>&nbsp;<span>Roles</span>
                                  </div>

                                </div>
                              </div>
                              <!--/Read Write=0,user=0,role-->


                              <!--Only Public write-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length>0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user[0]=='all'">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">W</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                   &nbsp;<span style="color:gray;">Public Write Access</span>
                                  </div>                 

                                </div>
                              </div>
                              <!--/Only Public write-->  

                              <!--Only Public read-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user.length>0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user[0]=='all'">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">R</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                   &nbsp;<span style="color:gray;">Public Read Access</span>
                                  </div>                 

                                </div>
                              </div>
                              <!--/Only Public read--> 

                              <!--Everything null-->
                              <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.user.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.write.allow.role.length==0 && relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.read.allow.role.length==0">
                                <div class="cf">

                                  <div class="flex-general-column-wrapper-center pull-left" style="height:20px;width:20px;background-color:gray;border-radius:25px;">
                                    <span style="font-size:14px;color:white;">-</span>
                                  </div>

                                  <div class="pull-left" style="margin-left:4px;margin-top:2.3px;">
                                   &nbsp;<span style="color:gray;">No users</span>
                                  </div>                 

                                </div>
                              </div>
                              <!--/Everything null-->      

                          </div>
                        </div>
                        <div class="m-popup-btn pull-right">
                          <a class="m-round-btn" ng-click="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)">
                            <i class="fa fa-expand db-color-fg"></i>&nbsp;
                          </a>
                        </div>

                      </div>
                  </div>

                  <!--JsonObject-->
                  <div ng-if="relCol.document.dataType=='Object'" class="m-value" ng-dblclick="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol); $event.stopPropagation()">
                      <div class="m-data-container m-acl-cust cf">

                        <div class="m-real-content-acl pull-left">
                          <div class="m-acl-aura">
                          {{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name)}}
                          </div>
                        </div>
                        <div class="m-popup-btn pull-right">
                          <a class="m-round-btn" ng-click="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)">
                            <i class="fa fa-expand db-color-fg"></i>&nbsp;
                          </a>
                        </div>

                      </div>
                  </div>

                  <!--Text-->
                  <div ng-if="relCol.document.dataType=='Text'" class="m-value">
                      <div class="m-data-container cf" style="height:35px;">

                        <div class="m-real-content-cmn-types pull-left">                          
                          <input type="text" ng-model="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" ng-blur="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="m-commontypes-aura" >
                        </div>                       

                      </div>
                  </div> 
                   
                  <!--Encrypted Text-->
                  <div ng-if="relCol.document.dataType=='EncryptedText'" class="m-value">
                      <div class="m-data-container cf" style="height:35px;">

                        <div class="m-real-content-cmn-types pull-left"> 
                          <!--Display Mode when there is NO data-->
                          <input ng-if="!relationShowInput[relCol.name] && !relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" type="text"  ng-click="holdRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="m-commontypes-aura" >

                          <!--Display Mode when there is a data-->
                          <input ng-if="!relationShowInput[relCol.name] && relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" type="text" value="*****" ng-click="holdRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="m-commontypes-aura" >

                          <!--Edit Mode-->
                          <input focus-on="{{relCol.name}}relcol" ng-if="relationShowInput[relCol.name]" type="text" ng-model="relationHoldData[column.name]" ng-blur="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relationHoldData[column.name])" class="m-commontypes-aura">

                        </div>

                        <!--Delete data-->
                        <div ng-if="!relCol.required && relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name] && !relationShowInput[relCol.name]" class="m-popup-btn pull-right">
                          <a class="m-delete-data-btn" ng-click="deleteRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,null)">
                            <i class="fa fa-minus-circle"></i>&nbsp;
                          </a>
                        </div>                       

                      </div>
                  </div>

                  <!--Email-->
                  <div ng-if="relCol.document.dataType=='Email'" class="m-value">
                      <div class="m-data-container cf" style="height:35px;">

                        <div class="m-real-content-cmn-types pull-left">                          
                          <input type="email" ng-model="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" ng-blur="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="m-commontypes-aura" >
                        </div>                       

                      </div>
                      <div>
                        <span style="color:red;margin-left:1.5px;">{{relationError[relCol.name]}}</span>
                      </div>
                  </div>

                  <!--URL-->
                  <div ng-if="relCol.document.dataType=='URL'" class="m-value">
                      <div class="m-data-container cf" style="height:35px;">

                        <div class="m-real-content-cmn-types pull-left">                          
                          <input type="url" ng-model="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" ng-blur="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="m-commontypes-aura" >
                        </div>                       

                      </div>
                      <div>
                        <span style="color:red;margin-left:1.5px;">{{relationError[relCol.name]}}</span>
                      </div>
                  </div>

                  <!--Number-->
                  <div ng-if="relCol.document.dataType=='Number'" class="m-value">
                      <div class="m-data-container cf" style="height:35px;">

                        <div class="m-real-content-cmn-types pull-left">                          
                          <input type="text" ng-model="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" ng-blur="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name])" class="m-commontypes-aura" >
                        </div>                       

                      </div>
                      <div>
                        <span style="color:red;margin-left:1.5px;">{{relationError[relCol.name]}}</span>
                      </div>
                  </div>

                  <!--Files-->
                  <div ng-if="relCol.document.dataType=='File'"  class="m-value">
                      <div class="m-data-container-file cf">

                        <div class="m-real-content-file pull-left">

                          <!--Images-->
                          <div ng-if="(relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)=='jpeg' || (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)=='jpg' || (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)=='png' || (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)=='tif' || (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)=='gif' && !setRelFileSpinner[relCol.name] && !setRelFileError[relCol.name]">
                            <div class="rel-single-img" style="position:relative;">

                              <a ng-click="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)">
                                <img class="m-dynamix-img" ng-src="{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).url}}">
                              </a>

                              <!--Image controllers-->
                              <div class="m-rel-file-toolz flex-general-row-wrapper cf">
                                  <!--Download-->
                                  <a href="{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).url}}" target="_blank">
                                    <div class="pull-left flex-general-column-wrapper-center" style="height:26px; width:26px; border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;">
                                      <i class="icon ion-ios-download-outline" style="color:white;font-size:20px;"></i>
                                    </div>
                                  </a>  

                                  <!--Delete-->
                                  <div class="pull-left flex-general-column-wrapper-center" style="margin-left:3px; height:26px; width:26px;border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;" ng-click="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,null)">
                                    <i class="icon ion-ios-trash-outline" style="color:white;font-size:20px;"></i>
                                  </div>
                              </div>
                              <!--/Image controllers--> 
                              </div> 
                              <p style="margin-left:3px;">{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).name}}</p>
                          </div>

                          <!--Other Files-->
                          <div ng-if="(relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension) && ((relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)!='jpeg' && (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)!='jpg' && (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)!='png' && (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)!='tif' && (relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document.name | extension)!='gif') && !setRelFileSpinner[relCol.name] && !setRelFileError[relCol.name]">

                            <div class="rel-single-static-img" style="position:relative;">

                              <a ng-click="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)" >
                                <img class="m-static-img" src="assets/images/file2.png">
                              </a>                             

                              <!--Image controllers-->
                              <div class="m-rel-static-file-toolz flex-general-row-wrapper cf">
                                  <!--Download-->
                                  <a href="{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).url}}" target="_blank">
                                    <div class="pull-left flex-general-column-wrapper-center" style="height:26px; width:26px; border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;">
                                      <i class="icon ion-ios-download-outline" style="color:white;font-size:20px;"></i>
                                    </div>
                                  </a>  

                                  <!--Delete-->
                                  <div class="pull-left flex-general-column-wrapper-center" style="margin-left:3px; height:26px; width:26px;border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;" ng-click="setRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,null)">
                                    <i class="icon ion-ios-trash-outline" style="color:white;font-size:20px;"></i>
                                  </div>
                              </div>
                              <!--/Image controllers--> 
                            </div>
                              <p style="margin-left:20px;">{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).name}}</p>
                          </div>                       

                          <!-- D&D Markup -->
                          <div ng-if="!relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name) && !setRelFileSpinner[relCol.name] && !setRelFileError[relCol.name]" class="rel-uploader cf flex-general-row-wrapper-center" reldmuploader data-column="{{relCol}}">
                            <div class="browser pull-left">
                              <label class="flex-general-column-wrapper-center">
                                <span style="position:absolute; margin-top:14px;margin-left:-8px;">                          
                                  <i class="icon ion-plus" style="color:#CECCCC; font-size:18px;"></i>
                                </span>
                                <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                              </label>
                            </div>                                               
                            <div class="pull-left">&nbsp;Drag &amp; Drop File Here</div>                          
                          </div>
                          <!-- /D&D Markup -->                          

                          <!--Spinner-->
                          <div ng-if="setRelFileSpinner[relCol.name]" class="m-img-add flex-general-column-wrapper-center">
                            <div style="width:100%;">
                              <div class="loading-progress-1" fileloading style="width:90%;"></div>
                            </div>
                          </div>
                          <!--/Spinner-->

                          <!--Error-->
                          <div ng-if="setRelFileError[relCol.name] && !setRelFileSpinner[relCol.name]" class="m-img-add flex-general-column-wrapper-center">
                            <div>
                              {{setRelFileError[relCol.name]}}
                            </div>
                          </div> 
                          <!--/Error-->

                        </div>                       

                      </div>
                  </div>

                  <!--Geo Point-->
                  <div ng-if="relCol.document.dataType=='GeoPoint'" class="m-value" ng-dblclick="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol); $event.stopPropagation()">
                      <div class="m-data-container cf" style="height:37px;">

                        <div class="m-real-geopoint pull-left">
                          <div class="m-geopoint">
                            { <span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).longitude}}</span>,&nbsp;
                            <span>{{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).latitude}}</span> }
                          </div>                           

                        </div>
                        <div class="m-popup-btn pull-right">
                          <a class="m-round-btn" ng-click="showRelationModals(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)">
                            <i class="fa fa-expand db-color-fg"></i>&nbsp;
                          </a>
                        </div>

                      </div>
                  </div>

                  <!--Relation-->
                  <div ng-if="relCol.document.dataType=='Relation'" class="m-value">
                      <div class="m-data-container cf" style="height:37px;">

                        <div class="m-real-content-rel pull-left">
                          <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" class="m-rel-id-aura" ng-click="viewRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)">                          
                            {{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).document._id}}

                          </div>                         
                        </div>
                        <div class="m-popup-btn pull-right">
                          <a class="m-round-btn" ng-click="addRelationToRelation(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol)">
                            <i class="fa fa-expand db-color-fg"></i>&nbsp;
                          </a>
                        </div>

                      </div>
                  </div>


                  <!--List-->
                  <div ng-if="relCol.document.dataType=='List'" class="m-value">
                      <!--List DataTypes except File-->
                      <div ng-if="relCol.document.relatedTo!='File'" class="m-data-container cf" style="height:auto;">

                        <!--Add Button-->
                        <div class="document-rel-list-add-wrapper flex-general-row-wrapper">                       
                          <button type="button" ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'add',null,null)" class="nuevo-rel-add-list-btn" >Add New Record</button>           
                        </div>
                        <!--/Add Button-->
                          
                        <!--Text,Encrypted Text,Email,Number,URL-->
                        <div ng-if="relCol.document.relatedTo=='Text' || relCol.document.relatedTo=='EncryptedText' || relCol.document.relatedTo=='Email' || relCol.document.relatedTo=='Number' || relCol.document.relatedTo=='URL'" class="m-real-content" style="padding-top:15px;"> 

                          <!--Texts-->
                          <div ng-repeat="eachText in relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name] track by $index">
                            <div class="document-list-txt-wrapper flex-general-row-wrapper-center cf" style="margin-top: 5px !important;">
                              
                              <div class="list-text-aura">
                                <input type="text" ng-model="eachText" ng-blur="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'modify',eachText,$index)" class="list-modal-text">
                              </div>                  

                              <div class="m-remove-document list-text-remv-show" style="padding-right:2px;">
                                <div ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'delete',null,$index)">
                                 <i class="fa fa-trash-o fa-lg"></i>
                                </div>
                              </div> 
                                                 
                            </div>

                            <!--Modify Error-->
                            <div>
                              <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                            </div>
                          </div>
                          <!--/Texts-->

                        </div>  

                        <!--DateTime-->
                        <div ng-if="relCol.document.relatedTo=='DateTime'" class="m-real-content">                 

                          <div  ng-repeat="eachDate in relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name] track by $index" class="document-list-datetime-wrapper flex-general-row-wrapper cf">        

                            <div class="list-datetime-aura-list">

                              <input kendo-date-time-picker value="{{eachDate | ISO2DateObject}}" k-ng-model="eachDate"  class="list-m-datetime-list" ng-blur="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'modify',eachDate,$index)" />   

                            </div>

                            <div class="m-remove-document list-datetime-remv-show" style="margin-left: 0 !important;">
                              <div ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'delete',null,$index)">
                                <i class="fa fa-trash-o fa-lg"></i>
                              </div>
                            </div>
                              
                          </div>

                        </div> 
                        <!--/DateTime--> 

                        <!--Boolean-->
                        <div ng-if="relCol.document.relatedTo=='Boolean'" class="m-real-content">                          
                          <div  ng-repeat="eachBoolean in relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name] track by $index" class="document-list-bool-wrapper cf">               
                              <div class="pull-left list-boolean-aura-list flex-general-row-wrapper-center">    

                                <checkbox class="btn-default list-m-boolean-list"  ng-model="eachBoolean" ng-change="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'modify',eachBoolean,$index)"></checkbox>  

                              </div>

                              <div class="pull-right m-remove-document list-datetime-remv-show" style="padding-right:6.5px !important;padding-top:3px !important;">
                                <div ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'delete',null,$index)">
                                  <i class="icon ion-close"></i>
                                </div>
                              </div>                  
                                
                            </div>

                        </div> 
                        <!--/Boolean--> 

                        <!--Object-->
                        <div ng-if="relCol.document.relatedTo=='Object'" class="m-real-content">

                          <div ng-repeat="eachJSON in relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name] track by $index">
                            <div  class="document-list-json-wrapper cf">   

                              <div class="pull-left" style="width:96.4%"> 
                                <div class="list-json-aura-list">                  
                                  <p ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'modify',eachJSON,$index)" class="list-m-json-list">{{eachJSON || "null"}}</p>     
                                </div>                    
                              </div>

                              <div class="pull-right">
                                <div class="m-remove-document list-datetime-remv-show" style="margin-top:7.6px !important;">
                                  <div ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'delete',null,$index)">
                                    <i class="fa fa-trash-o fa-lg"></i>
                                  </div>
                                </div>
                              </div>  
                                
                            </div>

                            <!--Modify Error-->
                            <div>
                              <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                            </div>

                          </div>

                        </div>  
                        <!--/Object-->                   

                        <!--GeoPoint-->
                        <div ng-if="relCol.document.relatedTo=='GeoPoint'" class="m-real-geopoint" style="margin-top: 14px;">                         

                          <div  ng-repeat="eachGeopoint in relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name] track by $index" class="geopoint-list flex-general-row-wrapper-center cf">

                            <div class="m-relationid id-show" ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'modify',eachGeopoint,$index)">
                              <div>
                                { <span>{{eachGeopoint.longitude}}</span>,&nbsp;
                                <span>{{eachGeopoint.latitude}}</span> }
                              </div>  
                            </div>

                            <div class="m-remove-relation remv-show">
                              <div ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'delete',null,$index)">
                               <i class="icon ion-close"></i>
                              </div>
                            </div>

                          </div>

                        </div>
                        <!--/GeoPoint-->

                        <!--Relation--> 
                        <div ng-if="relCol.document.relatedTo!='Text' && relCol.document.relatedTo!='EncryptedText' && relCol.document.relatedTo!='Email' && relCol.document.relatedTo!='Number' && relCol.document.relatedTo!='URL' && relCol.document.relatedTo!='DateTime' && relCol.document.relatedTo!='Boolean' && relCol.document.relatedTo!='File' && relCol.document.relatedTo!='Object' && relCol.document.relatedTo!='GeoPoint'" class="m-real-content">  
                          <div  class="m-list-condition">                            

                              <!--show list-->
                              <div ng-repeat="eachRelRow in relatedTableRecordArray[relatedTableRecordArray.length-1].document[relCol.name]" class="relationid-rel-list-show">
                                <div class="m-relationid" ng-click="listViewRelationData(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,$index)">
                                   <div class="neorel-wrapper cf">                     

                                    <!--Image-->
                                    <div class="pull-left" ng-repeat="fileCol in (filterImages=(relatedTableDefArray[relatedTableDefArray.length-1].columns | getImageFromArray))">

                                      <div ng-show="eachRelRow.get(fileCol.name) && ((eachRelRow.get(fileCol.name).document.name | extension)=='jpeg' || (eachRelRow.get(fileCol.name).document.name | extension)=='jpg' || (eachRelRow.get(fileCol.name).document.name | extension)=='png' || (eachRelRow.get(fileCol.name).document.name | extension)=='tif' || (eachRelRow.get(fileCol.name).document.name | extension)=='gif')" style="margin-right:5px;">  
                                                               
                                        <img  ng-src="eachRelRow.get(fileCol.name).document.url" class="neorel-img">
                                      </div>

                                    </div>

                                    <!--Content-->
                                    <div class="pull-left" style="padding-top:4px; padding-bottom:2px;padding-left:2px;">
                                      <div style="font-size:14px;">{{eachRelRow.get("id")}}</div>     

                                      <div style="font-size:12px;" ng-repeat="textCol in (Texts=(relatedTableDefArray[relatedTableDefArray.length-1].columns | getTextFromArray))" ng-show="eachRelRow.get(textCol.name)">{{eachRelRow.get(textCol.name)}}</div>
                                    
                                      <div style="margin-top:3.5px;color:#A09F9F;font-style: italic;">{{eachRelRow.get('createdAt') | date:'medium'}}</div>
                                    </div>

                                    <!--Delete Button-->
                                    <div class="pull-right" style="margin-top:-1px; padding-bottom:2px;padding-right:6px;">
                                      <i class="icon ion-close" style="font-size:12px;" ng-click="showRelationList(relatedTableRecordArray[relatedTableRecordArray.length-1],relCol,'delete',null,$index); $event.stopPropagation()"></i>                        
                                    </div>

                                   </div>
                                </div>  
                              </div>
                              <!--show list-->

                          </div>

                        </div> 
                        <!--/Relation-->                       

                      </div>
                      <!--/List DataTypes except File-->

                      <!--List of Files-->                         
                      <div ng-if="relCol.document.relatedTo=='File'" class="m-real-content-list-file pull-left" style="width:100%;">                          
                   
                        <!--Empty List-->   
                        <div  ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).length==0 || !relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name)" class="m-list-condition flex-general-row-wrapper cf">  

                          <!-- D&D Markup -->
                          <div  class="rel-uploader cf flex-general-row-wrapper-center" listreldmuploader data-column="{{relCol}}">
                            <div class="browser pull-left">
                              <label class="flex-general-column-wrapper-center">
                                <span style="position:absolute; margin-top:14px;margin-left:-8px;">                          
                                  <i class="icon ion-plus" style="color:#CECCCC; font-size:18px;"></i>
                                </span>
                                <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                              </label>
                            </div>                                               
                            <div class="pull-left">&nbsp;Drag &amp; Drop File Here</div>                          
                          </div>
                          <!-- /D&D Markup -->

                        </div>

                        <!--List items>0-->  
                        <div ng-if="relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name).length>0" class="m-list-condition flex-general-row-wrapper cf">

                          <!--Addition-->
                          <div class="new-rel-list-file-up pull-left" style="background-color:white;">

                              <!-- D&D Markup -->
                              <div  class="rel-list-uploader cf flex-general-row-wrapper-center" listreldmuploader data-column="{{relCol}}">

                                <div class="browser">
                                  <label class="flex-general-column-wrapper-center">
                                    <div style="position:absolute !important;margin-top:60px;">                          
                                      <i class="icon ion-plus list-file-up-icon" style="color:#DCDCDC;  margin-left:65px;font-size:28px;"></i>
                                    </div>
                                    <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                                  </label>
                                </div>               
                                                          
                              </div>
                              <!-- /D&D Markup -->

                          </div>

                          <!--List-->
                          <div ng-repeat="file in relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name) track by $index" class="flex-general-row-wrapper cf">

                            <!--Spinner-->
                            <div ng-show="listFileSpinner[$index]" class="new-rel-list-file pull-left flex-general-column-wrapper-center">
                              <div style="width:100%;">
                                <div class="loading-progress-1" fileloading style="margin-left:5px;margin-top:12px;width:90%;"></div>
                              </div>  
                            </div>

                            <!--Error-->
                            <div ng-show="listFileError[$index]" class="new-rel-list-file pull-left flex-general-column-wrapper-center">
                              <div style="width:100%;">
                                <div>{{listFileError[$index]}}</div>
                              </div>  
                            </div> 

                            <!--File Content-->
                            <div ng-show="!listFileSpinner[$index] && !listFileError[$index]" class="new-rel-list-file pull-left">
                              <!--Img Files-->
                              <div class="rel-list-file-view" ng-if="(file.document.name | extension)=='jpeg' || (file.document.name | extension)=='jpg' || (file.document.name | extension)=='png' || (file.document.name | extension)=='tif' || (file.document.name | extension)=='gif'">

                                <img ng-src="{{file.document.url}}" style="width:150px;height:130px;">

                                <!--Image controllers-->
                                <div class="m-rel-static-file-toolz flex-general-row-wrapper cf">
                                    <!--Download-->
                                    <a href="{{file.document.url}}" target="_blank">
                                      <div class="pull-left flex-general-column-wrapper-center" style="height:26px; width:26px; border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;">
                                        <i class="icon ion-ios-download-outline" style="color:white;font-size:20px;"></i>
                                      </div>
                                    </a>  

                                    <!--Delete-->
                                    <div class="pull-left flex-general-column-wrapper-center" style="margin-left:3px; height:26px; width:26px;border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;" ng-click="deleteRelationListItem($index,relCol)">
                                      <i class="icon ion-ios-trash-outline" style="color:white;font-size:20px;"></i>
                                    </div>
                                </div>
                                <!--/Image controllers-->  

                              </div> 

                              <!--Other Files-->
                              <div class="rel-list-file-view" ng-if="(file.document.name | extension)!='jpeg' && (file.document.name | extension)!='jpg' && (file.document.name | extension)!='png' && (file.document.name | extension)!='tif' && (file.document.name | extension)!='gif'">

                                <img src="assets/images/file2.png" style="width:125px;height:120px;margin-left:15px;margin-top:6px;">

                                <!--Image controllers-->
                                <div class="m-rel-static-file-toolz flex-general-row-wrapper cf">
                                    <!--Download-->
                                    <a href="{{file.document.url}}" target="_blank">
                                      <div class="pull-left flex-general-column-wrapper-center" style="height:26px; width:26px; border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;">
                                        <i class="icon ion-ios-download-outline" style="color:white;font-size:20px;"></i>
                                      </div>
                                    </a>  

                                    <!--Delete-->
                                    <div class="pull-left flex-general-column-wrapper-center" style="margin-left:3px; height:26px; width:26px;border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;" ng-click="deleteRelationListItem($index,relCol)">
                                      <i class="icon ion-ios-trash-outline" style="color:white;font-size:20px;"></i>
                                    </div>
                                </div>
                                <!--/Image controllers-->  

                              </div>

                              <!--File Name-->
                              <div class="rel-list-file-view-name flex-general-column-wrapper-center">
                                <div style="color:black;">
                                  {{file.document.name}}
                                </div>  
                              </div> 
                            </div>                           
                          </div>                                                    
                          
                        </div>

                      </div>
                      <!--/List of Files-->  

                      <div>
                    </div>  
                  </div>

                  <!--Others-->
                  <div ng-if="relCol.document.dataType!='Id' && relCol.document.dataType!='Boolean' && relCol.document.dataType!='DateTime' && relCol.document.dataType!='File'  && relCol.document.dataType!='Text' &&  relCol.document.dataType!='EncryptedText' && relCol.document.dataType!='ACL' && relCol.document.dataType!='Object' && relCol.document.dataType!='Email' && relCol.document.dataType!='URL' && relCol.document.dataType!='Number' && relCol.document.dataType!='File' && relCol.document.dataType!='Relation' && relCol.document.dataType!='List' && relCol.document.dataType!='GeoPoint'" class="m-value">
                      <div class="m-data-container cf" style="height:37px;">

                        <div class="m-real-content pull-left">
                          {{relatedTableRecordArray[relatedTableRecordArray.length-1].get(relCol.name)}}
                        </div>
                        <div class="m-popup-btn pull-right">
                          <a class="m-round-btn">
                            <i class="fa fa-expand db-color-fg"></i>&nbsp;
                          </a>
                        </div>

                      </div>
                  </div>
                   
                <div>  
              </div>  

            </div>  
          </div>
          <!--/Modal Related Table Form-->           
        </div>       
      </div><!-- /.modal-content -->
      <div class="modal-footer">        
            <button type="button" class="btn btn-default cb-modal-default-btn" ng-click="closeRelModal()">Close</button>

            <!--Disabled Save(On Relation View Error)-->
            <button type="button" style="color:gray;cursor:pointer !important;" class="btn cb-modal-default-btn" ng-if="(viewRelDataError[viewRelDataError.length-1]) || (relatedTableRecordArray.length==0) || !relatedTableRecordArray[relatedTableRecordArray.length-1] || relationErrorMode">Save</button>

            <!--Save-->
            <button type="button" class="btn btn-primary cb-modal-default-btn" ng-if="!relationErrorMode && !relationSpinnerMode && !relationSaveTickMode && !viewRelDataError[viewRelDataError.length-1] && relatedTableRecordArray.length!=0 && relatedTableRecordArray[relatedTableRecordArray.length-1]" ng-click="saveRelationObj(relatedTableRecordArray[relatedTableRecordArray.length-1])">Save</button>

            <!--Spinner-->
            <button type="button" class="btn btn-primary cb-modal-default-btn" ng-if="!relationErrorMode && relationSpinnerMode && !relationSaveTickMode"><i class="fa fa-spinner fa-spin fa-lg"></i> Saving..</button>

            <!--Save Tick-->
            <button type="button" class="btn btn-primary cb-modal-default-btn" ng-if="!relationErrorMode && !relationSpinnerMode && relationSaveTickMode"><i class="fa fa-check fa-lg"></i> Saved</button>

        </div>
    </div><!-- /.modal-dialog -->
</div>
<!-- Relation Modal -->


<!-- Relational EditACL Modal -->
<div class="modal fade colored-header danger" id="md-rel-aclviewer" tabindex="-1" role="dialog">
  <div class="modal-dialog">
      <div class="modal-content cf">

        <div class="acl-header pull-left db-color-bg">
          <h4 style="font-weight:600;margin-top:4px;color:white;">Access Control List (ACL)</h4>
        </div>
        <div class="pull-right modalX db-color-bg" style="padding-top:14px;height:40px;border-top-right-radius: 4px;border:1px solid #4892F9;">
          <button type="button" class="close" style="font-size:24px !important;" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>  

        <div class="acl-main-body">        
         
          <div class="acl-wrapper" style="padding-top:15px !important;">         

            <!--Public User-->
            <div  ng-show="aclPublic.id=='all'" class="acl-content flex-general-row-wrapper">           
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;">
                  <i class="icon ion-person-stalker" style="cursor:default;"></i>
                  
                  {{aclPublic.name}}
                </p>                   
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <!--Read-->               
                <div class="flex-equal-ratio-items flex-general-row-wrapper"> 
                  <!--Null-->            
                  <div ng-show="aclPublic.readValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'read',true,aclPublic.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="aclPublic.readValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'read',false,aclPublic.id,'user')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="aclPublic.readValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'read',null,aclPublic.id,'user')">        
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">                 

                  <!--Null-->            
                  <div ng-show="aclPublic.writeValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'write',true,aclPublic.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="aclPublic.writeValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'write',false,aclPublic.id,'user')">           
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="aclPublic.writeValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(aclPublic.player,'write',null,aclPublic.id,'user')">  
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>                       
                </div>             

                <!--Remove-->
                <div style="width:25px;">
                  <i class="fa fa-question-circle" style="color:gray;margin-top:5px;" normaltooltipleft="msg='Public read and write permissions'"></i>
                </div> 
              </div>
            </div>
            <!--/Public User-->

            <!--User-->
            <div ng-repeat="user in aclUsers" ng-show="user.id!='all'" class="acl-content flex-general-row-wrapper">           
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;">
                  <i ng-show="user.player=='User'" class="icon ion-person-stalker" style="cursor:default;"></i>
                  <i ng-show="user.player=='Role'" class="icon ion-unlocked" style="cursor:default;"></i>
                  {{user.name}} <span ng-show="user.id!='all'" style="color:#A09F9F">({{user.id}})</span> 
                </p>                   
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <!--Read-->               
                <div class="flex-equal-ratio-items flex-general-row-wrapper"> 
                  <!--Null-->            
                  <div ng-show="user.readValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'read',true,user.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="user.readValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'read',false,user.id,'user')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="user.readValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'read',null,user.id,'user')">        
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">                 

                  <!--Null-->            
                  <div ng-show="user.writeValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'write',true,user.id,'user')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="user.writeValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'write',false,user.id,'user')">           
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="user.writeValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(user.player,'write',null,user.id,'user')">  
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>                       
                </div>             

                <!--Remove-->
                <div style="width:25px;">
                  <i ng-show="user.id!='all'" class="fa fa-times" style="color:#C4C2C2;" ng-click="removeACL(user.player,user.id,'user',relEditableRow)"></i>
                </div> 
              </div>
            </div>
            <!--/User-->

            <!--Role-->
            <div ng-repeat="role in aclRoles" class="acl-content flex-general-row-wrapper">            
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;">
                  <i ng-show="role.player=='User'" class="icon ion-person-stalker" style="cursor:default;"></i>
                  <i ng-show="role.player=='Role'" class="icon ion-unlocked" style="cursor:default;"></i>
                  {{role.name}} <span style="color:#A09F9F">({{role.id}})</span> 
                </p>
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <!--Read-->               
                <div class="flex-equal-ratio-items flex-general-row-wrapper"> 
                  <!--Null-->            
                  <div ng-show="role.readValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'read',true,role.id,'role')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="role.readValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'read',false,role.id,'role')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="role.readValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'read',null,role.id,'role')">        
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">    

                  <!--Null-->            
                  <div ng-show="role.writeValue==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'write',true,role.id,'role')">             
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="role.writeValue==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'write',false,role.id,'role')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="role.writeValue==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(role.player,'write',null,role.id,'role')"> 
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>                   
                </div>             

                <!--Remove-->
                <div style="width:25px;">
                  <i class="fa fa-times" style="color:#C4C2C2;" ng-click="removeACL(role.player,role.id,'role',relEditableRow)"></i>
                </div> 
              </div>
            </div>
            <!--/Role-->

            <!--Add New-->
            <div ng-repeat="newACL in addACL">
            <div  class="acl-content flex-general-row-wrapper">            
              <div  class="acl-player">
                <p class="db-color-fg" style="font-size:14px;"> 
                  <i ng-show="newACL.player=='User'" class="icon ion-person-stalker" style="cursor:default;"></i>
                  <i ng-show="newACL.player=='Role'" class="icon ion-unlocked" style="cursor:default;"></i>
                  {{newACL.name}} <span style="color:#A09F9F">({{newACL.id}})</span>
                </p>
              </div>

              <div class="acl-player-controll flex-general-row-wrapper">
                <div class="flex-equal-ratio-items flex-general-row-wrapper">              

                  <!--Null-->            
                  <div ng-show="newACL.read==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'read',true,newACL.id,'newacl')">        
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="newACL.read==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'read',false,newACL.id,'newacl')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="newACL.read==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'read',null,newACL.id,'newacl')"> 
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>                   
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Read
                  </div>
                </div>       

                <!--Write-->            
                <div class="flex-equal-ratio-items flex-general-row-wrapper">
                  
                 <!--Null-->            
                  <div ng-show="newACL.write==null" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'write',true,newACL.id,'newacl')">        
                    <div>
                      &nbsp;
                    </div>                    
                  </div>

                  <!--True-->
                  <div ng-show="newACL.write==true" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'write',false,newACL.id,'newacl')">            
                    <div >
                      <i class="icon ion-android-done db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>

                  <!--False-->
                  <div ng-show="newACL.write==false" class="chbx-icon-bx flex-general-column-wrapper-center" ng-click="changeACL(newACL.player,'write',null,newACL.id,'newacl')"> 
                    <div>
                      <i class="icon ion-android-close db-color-fg" style="font-size:14px;"></i>
                    </div>
                  </div>
                  <div class="db-color-fg" style="margin-top:2px;margin-left:1px;">
                    Write
                  </div>
                </div>             

                <!--Remove-->
                <div style="width:25px;" class="acl-remv">
                  <i class="fa fa-times" style="color:#C4C2C2;" ng-click="removeACL(newACL.player,newACL.id,'newacl',relEditableRow)"></i>
                </div> 
              </div>
            </div>
            </div>
            <!--/Add New-->  

            <!--Spinner-->
            <div ng-show="newACLSpinner">
            <div  class="acl-content flex-general-row-wrapper">            
              <div  class="acl-player">
                <p> 
                  <i class="fa fa-spinner fa-spin"></i>
                </p>
              </div>
              <div class="acl-player-controll flex-general-row-wrapper"> 
                &nbsp;
              </div>
            </div>
            </div>
            <!--/Spinner-->          

            <!--Head-->
            <div class="acl-head flex-general-row-wrapper">
              <div class="acl-player flex-general-row-wrapper">
                <div class="acl-search-bx flex-general-row-wrapper" style="width:72%;margin-top:1px;">
                  <div style="width:93.5%">
                   <input id="acl-search-id" type="text"  autokomplete class="acl-search-input" style="width:100%" placeholder="User or Role">
                  </div> 
                  <div style="width:4.5%; margin-left:3px;">
                    <i class="fa fa-search" style="margin-top:5px;color:#A6AFB6;"></i>
                  </div>                                  
                </div>                
              </div>             
            </div>
            <!--/Head-->        
          
        </div>
      </div>  
      <div class="modal-footer">
        
        <a class="pull-left" style="margin-top:5px; color:#BFBDBD;text-decoration:underline;" href="https://tutorials.cloudboost.io/?lang=en&category=security&subcategory=acl" target="_blank">Why are ACLs important?</a>
         
        <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary cb-modal-default-btn" ng-click="setRelationData(relEditableRow,relEditableColumn,relEditableJsonObj)" >Save</button>
      </div>    
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<!-- Relation EditACL Modal -->


<!-- Relation EditJSON Modal -->
  <div class="modal fade colored-header danger" id="md-rel-objectviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">{{relEditableColumn.name}}</span>
          </div>          
        </div>    

        <!--Saving Errors--> 
        <div style="width:100%;">
          <div ng-show="relationError[relEditableColumn.name]" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:relationError[relEditableColumn.name]}" class="fadeIn">

            <div class="pull-left" style="padding-top:1px;">                
              <span>{{relationError[relEditableColumn.name]}}</span>
            </div>

            <div class="pull-right" ng-click="relationError[relEditableColumn.name]=!relationError[relEditableColumn.name]">
              <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
            </div>  

          </div>  
        </div>  
        <!--/Saving Errors-->

        <div style="border-top:1px solid #dddbdb;">

          <div ui-ace="{ mode: 'json', theme: 'chrome' }" ng-model="relEditableJsonObj">
          </div>               

        </div>
         
        <!--Set Button-->
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
          <!--Save-->
          <button type="button" ng-click="setRelationData(relEditableRow,relEditableColumn,relEditableJsonObj)" class="btn btn-primary cb-modal-default-btn" >Set</button>   
        </div>

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!--  Relation EditJSON Modal -->


<!-- Relation EditFile Modal -->
<div class="modal fade colored-header danger" id="md-rel-fileviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">Files</span>
          </div>          
        </div> 


        <div class="modal-body" style="border-top:1px solid #dddbdb;">

          <div class="flex-general-row-wrapper-center">            
              <!--Add file-->
              <!-- D&D Markup -->
              <div ng-if="!relEditableFile && !selectedFile" class="uploader" dmuploader>
                <div>Drag &amp; Drop Files Here</div>
                <div class="or">-or-</div>
                <div class="browser">
                  <label class="db-color-bg">
                    <span>Choose files</span>
                    <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                  </label>
                </div>
              </div>
              <!-- /D&D Markup -->            

            <div  ng-if="selectedFile && selectedFileExtension">  
              <!--View File for Images-->
              <div ng-if="selectedFile  && (selectedFileExtension=='jpeg' || selectedFileExtension=='jpg' || selectedFileExtension=='png' || selectedFileExtension=='tif' || selectedFileExtension=='gif')" class="modal-view-file flex-general-column-wrapper-center">  

                <!--Image-->
                <div class="">
                  <a class="modal-anchor">
                    <img ng-src="{{selectedFile}}">                  
                  </a>                  
                </div>

                <div class="flex-general-row-wrapper-center">
                  <span style="margin-top:12px;">{{selectedfileName}}</span> 
                </div>

              </div> 

              <!--View File for Other Files-->
              <div ng-if="selectedFile  && (selectedFileExtension!='jpeg' && selectedFileExtension!='jpg' && selectedFileExtension!='png' && selectedFileExtension!='tif' && selectedFileExtension!='gif')" class="modal-view-other-file flex-general-column-wrapper-center">

                  <!--Image-->
                  <div>
                    <a class="modal-anchor flex-general-row-wrapper-center">
                      <img src="assets/images/file2.png">                  
                    </a>                  
                  </div> 

                  <div class="flex-general-row-wrapper-center">
                    <span style="margin-top:12px;">{{selectedfileName}}</span> 
                  </div>   

                </div>
              
            </div>

            <div  ng-if="!selectedFile">  
              <!--View File for Images-->
              <div ng-if="relEditableFile && relEditableFile.document.url && ((relEditableFile.document.name | extension)=='jpeg' || (relEditableFile.document.name | extension)=='jpg' || (relEditableFile.document.name | extension)=='png' || (relEditableFile.document.name | extension)=='tif' || (relEditableFile.document.name | extension)=='gif')" class="modal-view-file">

                <!--Image-->
                <div>
                  <a class="modal-anchor flex-general-row-wrapper-center">
                    <img ng-src="{{relEditableFile.document.url}}">                  
                  </a>                  
                </div>
                <div class="flex-general-row-wrapper-center">
                  <span style="margin-top:14px;">{{relEditableFile.document.name}}</span> 
                </div>          

              </div> 

               <!--View File for Other Files-->
              <div ng-if="relEditableFile && relEditableFile.document.url && ((relEditableFile.document.name | extension)!='jpeg' && (relEditableFile.document.name | extension)!='jpg' && (relEditableFile.document.name | extension)!='png' && (relEditableFile.document.name | extension)!='tif' && (relEditableFile.document.name | extension)!='gif')" class="modal-view-other-file">

                  <!--Image-->
                  <div>
                    <a class="modal-anchor flex-general-row-wrapper-center">
                      <img src="assets/images/file2.png">                  
                    </a>                  
                  </div> 

                  <div class="flex-general-row-wrapper-center">
                    <span style="margin-top:14px;">{{relEditableFile.document.name}}</span>  
                  </div> 
                
                </div>  
            </div>     

          </div>
        </div>

         <!--Footer-->
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

          <!--New File-->
          <!--Save-->
          <button type="button" ng-if="selectedFile && selectedFileExtension" ng-click="setRelFile()" class="btn btn-primary cb-modal-default-btn-long" ><i class="fa fa-floppy-o"></i>&nbsp;Save</button>

          <!--Remove File-->
          <button type="button" ng-if="selectedFile && selectedFileExtension" ng-click="removeSelectdFile()" class="btn btn-danger cb-modal-default-btn-long" ><i class="fa fa-times-circle-o"></i>&nbsp;Remove</button> 
          <!--/New File-->


          <!--File View-->
          <!--Save-->
          <a ng-if="!selectedFile && relEditableFile && relEditableFile.document.url" href="{{relEditableFile.document.url}}" target="_blank" class="btn btn-primary cb-modal-default-btn-long" ><i class="fa fa-download"></i>&nbsp;Download</a>

          <!--Remove File-->
          <button ng-if="!selectedFile && relEditableFile && relEditableFile.document.url" type="button" ng-click="setRelationData(relEditableRow,relEditableColumn,null)" class="btn btn-danger cb-modal-default-btn-long" ><i class="fa fa-trash-o"></i>&nbsp;Delete</button> 
          <!--/File View-->

        </div>
        <!--/Footer-->

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!--Relation EditFile Modal -->


<!-- Add/Remove Relational GeoPoint -->
  <div class="modal fade colored-header danger" id="md-rel-geodocumentviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">        

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">{{relEditableColumn.name}}</span>
          </div>          
        </div>

        <!--Saving Errors--> 
        <div style="width:100%;">
          <div ng-show="geopointEditError" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:geopointEditError}" class="fadeIn">

            <div class="pull-left" style="padding-top:1px;">                
              <span>{{geopointEditError.msg}}</span>
            </div>

            <div class="pull-right" ng-click="geopointEditError=!geopointEditError">
              <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
            </div>  

          </div>  
        </div>  
        <!--/Saving Errors-->


        <div style="border-top:1px solid #dddbdb;">
          <form role="form" name="relGeoPointForm" ng-submit="relSetAndSaveGeopoint(relGeoPointForm.$valid)">

            <div class="madd-relation-wrapper">            
              <div class="geopoint-list-wrapper">

                  <div class="geo-point-add-remv flex-general-row-wrapper-center">
                    <div class="flex-general-row-wrapper">

                      <!--Longitude-->
                      <div>
                        
                        <div class="geopoint-name">
                          <h4>Longitude</h4>
                        </div>

                        <input type="text" ng-model="relEditableGeopoint.longitude" class="geopoint-inputz" ng-blur="geoPointValidation('longitude',relEditableGeopoint.longitude)" minlength="-180" maxlength="180" required>
                       
                      </div>

                      <!--Latitude-->
                      <div style="margin-left:4px;">

                        <div class="geopoint-name">
                          <h4>Latitude</h4>                          
                        </div>

                        <input type="text" ng-model="relEditableGeopoint.latitude" class="geopoint-inputz"  ng-blur="geoPointValidation('latitude',relEditableGeopoint.latitude)" minlength="-90" maxlength="90" required>
                       
                      </div>

                      

                    </div> 
                  </div>
                  
              </div> 
            </div>            

            <div class="modal-footer">        
              <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

              <!--Set-->
              <button type="button" ng-show="geopointEditError"  class="btn btn-primary cb-modal-default-btn" >Set</button>
              <!--Set-->
              <button type="submit" ng-show="!geopointEditError" class="btn btn-primary cb-modal-default-btn" >Set</button>   
            </div>

        </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /Add/Remove Relational GeoPoint -->


<!---List Modals-->
<!-- Add-View List common types Modal -->
  <div class="modal fade colored-header danger" id="md-list-commontypes" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">        

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">{{editableColumn.name}}</span>
          </div>          
        </div> 


        <div style="border-top:1px solid #dddbdb;">
          <div class="madd-relation-wrapper">

            <!--Add New Records Button-->
            <div  class="add-list-btn-wrapper" ng-if="editableColumn.relatedTo!='File'"> 
              <div class="document-list-add-wrapper flex-general-row-wrapper">
                <!--For List of Texts-->
                <button ng-click="addListItem()" type="button"  class="nuevo-add-list-btn" >Add New Record</button>
              </div>
            </div> 

            <!--List of Text-->
            <div ng-if="editableColumn.relatedTo=='Text'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div ng-repeat="eachText in editableList track by $index">
                  <div class="document-list-txt-wrapper flex-general-row-wrapper-center cf">
                    
                    <div  class="list-text-aura">
                      <input type="text" ng-model="eachText" ng-blur="modifyListItem(eachText,$index)" class="list-modal-text">
                    </div>                  

                    <div class="m-remove-document list-text-remv-show">
                      <div ng-click="deleteListItem($index)">
                       <i class="fa fa-trash-o fa-lg"></i>
                      </div>
                    </div>                    
                  </div>

                  <!--Modify Error-->
                  <div>
                    <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                  </div>
                </div>

            </div>            
            <!--List of Text-->

            <!--List of Email-->
            <div ng-if="editableColumn.relatedTo=='Email'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div ng-repeat="eachEmail in editableList track by $index">
                  <div class="document-list-txt-wrapper flex-general-row-wrapper-center cf">
                    
                    <div  class="list-text-aura">
                        <input type="email" ng-model="eachEmail" ng-blur="modifyListItem(eachEmail,$index)" class="list-modal-text">         
                    </div>                  

                    <div class="m-remove-document list-text-remv-show">
                      <div ng-click="deleteListItem($index)">
                       <i class="fa fa-trash-o fa-lg"></i>
                      </div>
                    </div>                   
                  </div>
                  <!--Modify Error-->
                  <div>
                    <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                  </div>
                </div>

            </div>

            <!--Roll List of URL-->
            <div ng-if="editableColumn.relatedTo=='URL'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div ng-repeat="eachURL in editableList track by $index">
                  <div class="document-list-txt-wrapper flex-general-row-wrapper-center cf">
                    
                    <div  class="list-text-aura">
                      <input type="text" ng-model="eachURL" ng-blur="modifyListItem(eachURL,$index)" class="list-modal-text">
                    </div>                  

                    <div class="m-remove-document list-text-remv-show">
                      <div ng-click="deleteListItem($index)">
                       <i class="fa fa-trash-o fa-lg"></i>
                      </div>
                    </div>  
                  </div>
                  <!--Modify Error-->
                  <div>
                    <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                  </div>
                </div>

            </div>


            <!--Roll List of Number-->
            <div ng-if="editableColumn.relatedTo=='Number'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div ng-repeat="eachNumber in editableList track by $index">
                  <div class="document-list-txt-wrapper flex-general-row-wrapper-center cf">
                    
                    <div  class="list-text-aura">
                        <input type="text" ng-model="eachNumber" class="list-modal-text" ng-blur="modifyListItem(eachNumber,$index)">
                    </div>
                  

                    <div class="m-remove-document list-text-remv-show">
                      <div ng-click="deleteListItem($index)">
                       <i class="fa fa-trash-o fa-lg"></i>
                      </div>
                    </div>  
                  </div>
                  <!--Modify Error-->
                  <div>
                    <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                  </div>
                </div>

            </div>

            <!--List of DateTime-->
            <div ng-if="editableColumn.relatedTo=='DateTime'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div  ng-repeat="eachDate in editableList track by $index" class="document-list-datetime-wrapper flex-general-row-wrapper cf">        

                  <div class="list-datetime-aura-list">

                    <input kendo-date-time-picker value="{{eachDate | ISO2DateObject}}" k-ng-model="eachDate"  class="list-m-datetime-list" ng-blur="modifyListItem(eachDate,$index)"/>   

                  </div>

                  <div class="m-remove-document list-datetime-remv-show" style="margin-left: 0 !important;">
                    <div ng-click="deleteListItem($index)">
                      <i class="fa fa-trash-o fa-lg"></i>
                    </div>
                  </div>
                    
                </div>

            </div>
            <!--/List of DateTime-->

            <!--List of Boolean-->
            <div ng-if="editableColumn.relatedTo=='Boolean'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div  ng-repeat="eachBoolean in editableList track by $index" class="document-list-bool-wrapper cf">        

                 
                  <div class="pull-left list-boolean-aura-list flex-general-row-wrapper-center">            

                    <checkbox class="btn-default list-m-boolean-list"  ng-model="eachBoolean" ng-change="modifyListItem(eachBoolean,$index)"></checkbox>  

                  </div>

                  <div class="pull-right m-remove-document list-datetime-remv-show" style="padding-right:8px !important;padding-top:3px !important;">
                    <div ng-click="deleteListItem($index)">
                      <i class="icon ion-close"></i>
                    </div>
                  </div>                  
                    
                </div>

            </div>
            <!--/List of Boolean-->

            <!--List of JSON-Object-->
            <div ng-if="editableColumn.relatedTo=='Object'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

              <div  ng-repeat="eachJSON in editableList track by $index">
                <div  class="document-list-json-wrapper cf">   

                  <div class="pull-left" style="width:96.8%"> 
                    <div class="list-json-aura-list">                  
                      <p ng-click="showListJsonObject(eachJSON,$index)" class="list-m-json-list">{{eachJSON || "null"}}</p>     
                    </div>                    
                  </div>

                  <div class="pull-right">
                    <div class="m-remove-document list-datetime-remv-show" style="margin-top:7.6px !important;">
                      <div ng-click="deleteListItem($index)">
                        <i class="fa fa-trash-o fa-lg"></i>
                      </div>
                    </div>
                  </div>  
                    
                </div>

                <!--Modify Error-->
                <div>
                  <span style="color:red;margin-left:5px;">{{modifyListItemError[$index]}}</span>
                </div>

              </div>

            </div>
            <!--/List of JSON-Object-->

            <!--List of File-->
            <div ng-if="editableColumn.relatedTo=='File'" class="document-file-list-wrapper list-mat" malihuscrollbar-for-popup>

              <!--Empty List -->
              <!--Drag and Drop Markup -->
              <div  ng-show="!editableList || editableList.length==0" class="rel-uploader cf flex-general-row-wrapper-center" style="margin-top:49px;" dmuploader>
                <div class="browser pull-left">
                  <label class="flex-general-column-wrapper-center">
                    <span style="position:absolute; margin-top:14px;margin-left:-8px;">                          
                      <i class="icon ion-plus" style="color:#CECCCC; font-size:18px;"></i>
                    </span>
                    <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                  </label>
                </div>                                               
                <div class="pull-left">&nbsp;Drag &amp; Drop File Here</div>                          
              </div>
              <!--/Drag and Drop Markup -->
              <!--Empty List -->

              <!--List>0-->
              <div ng-show="editableList.length>0" class="flex-general-row-wrapper cf">

                <!--Addition Button-->
                <div class="new-rel-list-file-up pull-left" style="background-color:white;">
                  <!-- D&D Markup -->
                  <div  class="rel-list-uploader cf flex-general-row-wrapper-center" dmuploader>
                    <div class="browser">
                      <label class="flex-general-column-wrapper-center">
                        <div style="position:absolute !important;margin-top:60px;">                          
                          <i class="icon ion-plus list-file-up-icon" style="color:#DCDCDC;  margin-left:65px;font-size:28px;"></i>
                        </div>
                        <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                      </label>
                    </div>                                              
                  </div>
                  <!-- /D&D Markup -->
                </div>
                <!--/Addition Button-->

                <!--List-->
                <div ng-repeat="file in editableList track by $index" class="flex-general-row-wrapper cf">

                  <!--Spinner-->
                  <div ng-show="listFileSpinner[$index]" class="new-rel-list-file pull-left flex-general-column-wrapper-center">
                    <div style="width:100%;">
                      <div class="loading-progress-1" fileloading style="margin-left:5px;margin-top:12px;width:90%;"></div>
                    </div>  
                  </div> 

                  <!--Error-->
                  <div ng-show="listFileError[$index]" class="new-rel-list-file pull-left flex-general-column-wrapper-center">
                    <div style="width:100%;">
                      <div>{{listFileError[$index]}}</div>
                    </div>  
                  </div>

                  <!--File Content-->
                  <div ng-show="!listFileSpinner[$index] && !listFileError[$index]" class="new-rel-list-file pull-left">
                    <!--Img Files-->
                    <div class="rel-list-file-view" ng-if="(file.document.name | extension)=='jpeg' || (file.document.name | extension)=='jpg' || (file.document.name | extension)=='png' || (file.document.name | extension)=='tif' || (file.document.name | extension)=='gif'">

                      <img ng-src="{{file.document.url}}" style="width:150px;height:130px;">

                      <!--Image controllers-->
                      <div class="m-rel-static-file-toolz flex-general-row-wrapper cf">
                          <!--Download-->
                          <a href="{{file.document.url}}" target="_blank">
                            <div class="pull-left flex-general-column-wrapper-center" style="height:26px; width:26px; border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;">
                              <i class="icon ion-ios-download-outline" style="color:white;font-size:20px;"></i>
                            </div>
                          </a>  

                          <!--Delete-->
                          <div class="pull-left flex-general-column-wrapper-center" style="margin-left:3px; height:26px; width:26px;border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;" ng-click="deleteListItem($index)">
                            <i class="icon ion-ios-trash-outline" style="color:white;font-size:20px;"></i>
                          </div>
                      </div>
                      <!--/Image controllers-->  

                    </div> 

                    <!--Other Files-->
                    <div class="rel-list-file-view" ng-if="(file.document.name | extension)!='jpeg' && (file.document.name | extension)!='jpg' && (file.document.name | extension)!='png' && (file.document.name | extension)!='tif' && (file.document.name | extension)!='gif'">

                      <img src="assets/images/file2.png" style="width:125px;height:120px;margin-left:15px;margin-top:6px;">

                      <!--Image controllers-->
                      <div class="m-rel-static-file-toolz flex-general-row-wrapper cf">
                          <!--Download-->
                          <a href="{{file.document.url}}" target="_blank">
                            <div class="pull-left flex-general-column-wrapper-center" style="height:26px; width:26px; border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;">
                              <i class="icon ion-ios-download-outline" style="color:white;font-size:20px;"></i>
                            </div>
                          </a>  

                          <!--Delete-->
                          <div class="pull-left flex-general-column-wrapper-center" style="margin-left:3px; height:26px; width:26px;border-radius:25px;background-color:#212121;opacity:0.8;cursor:pointer;" ng-click="deleteListItem($index)">
                            <i class="icon ion-ios-trash-outline" style="color:white;font-size:20px;"></i>
                          </div>
                      </div>
                      <!--/Image controllers-->  

                    </div>

                    <!--File Name-->
                    <div class="rel-list-file-view-name flex-general-column-wrapper-center">
                      <div style="color:black;">
                        {{file.document.name}}
                      </div>  
                    </div> 
                  </div>                           
                </div>


              </div>  
              <!--List>0-->
            </div>
            <!--List of File-->


            <!--List of GeoPoint-->
            <div ng-if="editableColumn.relatedTo=='GeoPoint'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>

                <div ng-repeat="eachGeopoint in editableList track by $index" class="geopoint-list flex-general-row-wrapper-center cf">

                  <div class="m-relationid id-show" ng-click="editListGeoPoint($index)">
                    <div ng-click="editListGeoPoint($index)">
                      { <span>{{eachGeopoint.longitude}}</span>,&nbsp;
                      <span>{{eachGeopoint.latitude}}</span> }
                    </div>  
                  </div>

                  <div class="m-remove-relation remv-show">
                    <div ng-click="deleteListItem($index)">
                     <i class="fa fa-times"></i>
                    </div>
                  </div>

                </div>
                
            </div>
            <!--/List of GeoPoint-->

            <!--List of Relation Objects-->
            <div ng-if="editableColumn.relatedTo!='Text' &&editableColumn.relatedTo!='Email' && editableColumn.relatedTo!='URL' && editableColumn.relatedTo!='Number' && editableColumn.relatedTo!='DateTime' && editableColumn.relatedTo!='Object' && editableColumn.relatedTo!='Boolean' && editableColumn.relatedTo!='File' && editableColumn.relatedTo!='GeoPoint'" class="document-list-wrapper list-mat" malihuscrollbar-for-popup>               

                <!--show list-->
                <div ng-repeat="eachRelRow in editableList | filter:searchRelListDoc" class="relationid-list-show">
                  <div class="m-relationid" ng-click="viewRelationData(editableRow,editableColumn,$index)">
                     <div class="neorel-wrapper cf">                     

                      <!--Image-->
                      <div class="pull-left" ng-repeat="fileCol in (filterImages=(tableDef.columns | getImageFromArray))">

                        <div ng-show="eachRelRow.get(fileCol.name) && ((eachRelRow.get(fileCol.name).document.name | extension)=='jpeg' || (eachRelRow.get(fileCol.name).document.name | extension)=='jpg' || (eachRelRow.get(fileCol.name).document.name | extension)=='png' || (eachRelRow.get(fileCol.name).document.name | extension)=='tif' || (eachRelRow.get(fileCol.name).document.name | extension)=='gif')" style="margin-right:5px;">  
                                                 
                          <img  ng-src="eachRelRow.get(fileCol.name).document.url" class="neorel-img">
                        </div>

                      </div>

                      <!--Content-->
                      <div class="pull-left" style="padding-top:4px; padding-bottom:2px;padding-left:2px;">
                        <div style="font-size:14px;">{{eachRelRow.get("id")}}</div>     

                        <div style="font-size:12px;" ng-repeat="textCol in (Texts=(tableDef.columns | getTextFromArray))" ng-show="eachRelRow.get(textCol.name)">{{eachRelRow.get(textCol.name)}}</div>
                      
                        <div style="margin-top:3.5px;color:#A09F9F;font-style: italic;">{{eachRelRow.get('createdAt') | date:'medium'}}</div>
                      </div>

                      <!--Delete Button-->
                      <div class="pull-right" style="margin-top:-1px; padding-bottom:2px;padding-right:6px;">
                        <i class="icon ion-close" style="font-size:12px;" ng-click="deleteListItem($index); $event.stopPropagation()"></i>                        
                      </div>

                     </div>
                  </div>  
                </div>
                <!--show list-->  


            </div>
            <!--/List of Relation Objects-->

          </div> 
        </div>

        <!--Footer-->
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

          <!--Save-->
          <button ng-if="!isRelationalList" type="button" ng-click="setAndSaveList()" class="btn btn-primary cb-modal-default-btn" >Save List</button> 

          <!--Relational List Save-->
          <button ng-if="isRelationalList" type="button" ng-click="setRelationData(editableRow,editableColumn,editableList)" class="btn btn-primary cb-modal-default-btn" >Save List</button>

        </div>

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /Add-View List common types Modal -->



<!-- LIST EditJSON Modal -->
  <div class="modal fade colored-header danger" id="md-list-objectviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content"> 

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">{{editableColumn.name}}</span>
          </div>          
        </div>

        <!--Saving Errors--> 
        <div style="width:100%;">
          <div ng-show="modifyListItemError[listIndex]" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:modifyListItemError[listIndex]}" class="fadeIn">

            <div class="pull-left" style="padding-top:1px;">                
              <span>{{modifyListItemError[listIndex]}}</span>
            </div>

            <div class="pull-right" ng-click="modifyListItemError[listIndex]=!modifyListItemError[listIndex]">
              <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
            </div>  

          </div>  
        </div>  
        <!--/Saving Errors-->

        <div style="border-top:1px solid #dddbdb;border-bottom:1px solid #ebebeb;">

          <div ui-ace="{ mode: 'json', theme: 'chrome' }" ng-model="listEditableRow">
          </div>     

        </div>             

        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

          <!--Disabled Save-->
          <button type="button" ng-show="modifyListItemError[listIndex]" style="color:gray;cursor:pointer !important;" class="btn btn-default cb-modal-default-btn">Modify</button>

          <!--Save-->
          <button type="button" ng-show="!modifyListItemError[listIndex]" ng-click="modifyListItem(listEditableRow,listIndex)" class="btn btn-primary cb-modal-default-btn" >Modify</button>   
        </div>

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /LIST EditJSON Modal -->


<!--LIST EditFile Modal -->
<div class="modal fade colored-header danger" id="md-list-fileviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">Files</span>
          </div>          
        </div> 

        <div class="modal-body" style="border-top:1px solid #dddbdb;">

          <div class="flex-general-row-wrapper-center">

            <!--Add file-->
            <!-- D&D Markup -->
            <div ng-if="!listEditableRow && !selectedFile" class="uploader" dmuploader>
              <div>Drag &amp; Drop Files Here</div>
              <div class="or">-or-</div>
              <div class="browser">
                <label class="db-color-bg">
                  <span>Choose files</span>
                  <input type="file" name="files[]" multiple="multiple" title='Click to add Files'>
                </label>
              </div>
            </div>
            <!-- /D&D Markup -->             

            <div  ng-if="selectedFile && selectedFileExtension">  
              <!--View File for Images-->
              <div ng-if="selectedFile  && (selectedFileExtension=='jpeg' || selectedFileExtension=='jpg' || selectedFileExtension=='png' || selectedFileExtension=='tif' || selectedFileExtension=='gif')" class="modal-view-file flex-general-column-wrapper-center">  

                <!--Image-->
                <div class="">
                  <a class="modal-anchor">
                    <img ng-src="{{selectedFile}}">                  
                  </a>                  
                </div>

                <div class="flex-general-row-wrapper-center">
                  <span style="margin-top:12px;">{{selectedfileName}}</span> 
                </div>             

              </div> 

              <!--View File for Other Files-->
              <div ng-if="selectedFile  && (selectedFileExtension!='jpeg' && selectedFileExtension!='jpg' && selectedFileExtension!='png' && selectedFileExtension!='tif' && selectedFileExtension!='gif')" class="modal-view-other-file flex-general-column-wrapper-center">

                  <!--Image-->
                  <div>
                    <a class="modal-anchor flex-general-row-wrapper-center">
                      <img src="assets/images/file2.png">                  
                    </a>                  
                  </div> 

                  <div class="flex-general-row-wrapper-center">
                    <span style="margin-top:12px;">{{selectedfileName}}</span> 
                  </div>               

                </div>
              
            </div>

            <div  ng-if="!selectedFile">  
              <!--View File for Images-->
              <div ng-if="listEditableRow.document[listEditableColumn.name][listIndex] && listEditableRow.document[listEditableColumn.name][listIndex].document.url && ((listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)=='jpeg' || (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)=='jpg' || (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)=='png' || (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)=='tif' || (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)=='gif')" class="modal-view-file">

                <!--Image-->
                <div>
                  <a class="modal-anchor flex-general-row-wrapper-center">
                    <img ng-src="{{listEditableRow.document[listEditableColumn.name][listIndex].document.url}}">                  
                  </a>                  
                </div>
                <div class="flex-general-row-wrapper-center">
                  <span style="margin-top:14px;">{{listEditableRow.document[listEditableColumn.name][listIndex].document.name}}</span> 
                </div> 
              </div> 
              
              <!--View File for Other Files-->
              <div ng-if="listEditableRow.document[listEditableColumn.name][listIndex] && listEditableRow.document[listEditableColumn.name][listIndex].document.url && ((listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)!='jpeg' && (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)!='jpg' && (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)!='png' && (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)!='tif' && (listEditableRow.document[listEditableColumn.name][listIndex].document.name | extension)!='gif')" class="modal-view-other-file">

                  <!--Image-->
                  <div>
                    <a class="modal-anchor flex-general-row-wrapper-center">
                      <img src="assets/images/file2.png">                  
                    </a>                  
                  </div> 

                  <div class="flex-general-row-wrapper-center">
                    <span style="margin-top:14px;">{{listEditableRow.document[listEditableColumn.name][listIndex].document.name}}</span>  
                  </div>
                </div>  
            </div>     

          </div>
        </div>

        <!--Footer-->
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>

          <!--New File-->
          <!--Save-->
          <button type="button" ng-if="selectedFile && selectedFileExtension" ng-click="addListFile()" class="btn btn-primary cb-modal-default-btn-long" ><i class="fa fa-floppy-o"></i>&nbsp;Save</button>

          <!--Remove File-->
          <button type="button" ng-if="selectedFile && selectedFileExtension" ng-click="removeSelectdFile()" class="btn btn-danger cb-modal-default-btn-long" ><i class="fa fa-times-circle-o"></i>&nbsp;Remove</button> 
          <!--/New File-->


          <!--File View-->
          <!--Save-->
          <a ng-if="!selectedFile && listEditableRow && listEditableRow.document[listEditableColumn.name][listIndex].document.url" href="{{listEditableRow.document[listEditableColumn.name][listIndex].document.url}}" target="_blank" class="btn btn-primary cb-modal-default-btn-long" ><i class="fa fa-download"></i>&nbsp;Download</a>

          <!--Remove File-->
          <button ng-if="!selectedFile && editableFile && editableFile.document.url" type="button" ng-click="deleteListItem(listIndex)" class="btn btn-danger cb-modal-default-btn-long" ><i class="fa fa-trash-o"></i>&nbsp;Delete</button> 
          <!--/File View-->

        </div>
        <!--/Footer-->

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- LIST EditFile Modal -->

<!--List Search Relation Documents Modal -->
<div class="modal fade colored-header danger" id="md-searchlistdocument" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">             
        <div class="" style="background-color: #F0F0F0;border-top-left-radius:5px;border-top-right-radius:5px;">          

          <div class="search-rel-wrapper cf" style="background-color:white;border-top-left-radius:5px;border-top-right-radius:5px;">
              <div class="rel-search-btn-wrapper flex-general-row-wrapper pull-left" style="width:96%;">
                <div class="rel-searchIcon">
                  <i class="fa fa-search"></i>
                </div>
                <div class="rel-searchBx">
                  <input type="text" ng-model="searchRelListDoc" placeholder="Find a record to link">
                </div>                
              </div>                                
          </div>

          <div ng-if="!searchRelDocsError && listRelationTableData.length>0" class="md-search-relation-wrapper">
            <div class="relationid-list-wrapper" malihuscrollbar-for-popup>

                <!--show list-->
                <div ng-show="listRelationTableData.length>0" ng-repeat="eachRelRow in listRelationTableData | filter:searchRelListDoc" class="relationid-list">
                  <div class="m-relationid" ng-click="addListItem(eachRelRow)">
                     <div class="neorel-wrapper cf">                     

                      <div class="pull-left" ng-repeat="fileCol in (filterImages=(tableDef.columns | getImageFromArray))">

                        <div ng-show="eachRelRow.get(fileCol.name) && ((eachRelRow.get(fileCol.name).document.name | extension)=='jpeg' || (eachRelRow.get(fileCol.name).document.name | extension)=='jpg' || (eachRelRow.get(fileCol.name).document.name | extension)=='png' || (eachRelRow.get(fileCol.name).document.name | extension)=='tif' || (eachRelRow.get(fileCol.name).document.name | extension)=='gif')" style="margin-right:5px;">  
                                                 
                          <img  ng-src="eachRelRow.get(fileCol.name).document.url" class="neorel-img">
                        </div>

                      </div>

                      <div class="pull-left" style="padding-top:4px; padding-bottom:2px;padding-left:2px;">
                        <div style="font-size:14px;">{{eachRelRow.get('id')}}</div>     

                        <div style="font-size:12px;" ng-repeat="textCol in (Texts=(tableDef.columns | getTextFromArray))" ng-show="eachRelRow.get(textCol.name)">{{eachRelRow.get(textCol.name)}}</div>
                      
                        <div style="margin-top:3.5px;color:#A09F9F;font-style: italic;">{{eachRelRow.get('createdAt') | date:'medium'}}</div>
                      </div>

                     </div>
                  </div>  
                </div>
          
            </div>  
          </div>

          <!--no records-->
          <div ng-show="!searchRelDocsError && (!listRelationTableData || listRelationTableData.length==0)" class="relationid-list-empty flex-general-column-wrapper-center">
            <div class="flex-general-column-wrapper-center">                

                <p style="font-size:16px; color:gray;">Table {{tableDef.name}} has no records</p>
                <p>                 
                  <button type="button" ng-click="goToDataBrowser(tableDef)" class="btn db-color-bg" style="border-radius:3px;color:white;border:none;">Add Records</button>
                </p> 

            </div>              
          </div>

          <!--Error-->
          <div class="flex-general-column-wrapper-center" ng-if="searchRelDocsError">
            <div class="flex-general-column-wrapper-center">
              <p style="color:gray;">{{searchRelDocsError}}</p>
            </div> 
          </div> 

        </div>
        <div class="modal-footer">        
          <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /List Search Relation Documents Modal -->


<!-- Add/Remove List GeoPoint -->
  <div class="modal fade colored-header danger" id="md-list-geodocumentviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">        

        <div style="height:55px; width:100%;padding:13px;">
          <div class="pull-left" style="padding-left:8px;">
            <span style="font-size:18px;">{{editableColumn.name}}</span>
          </div>          
        </div>


        <!--Saving Errors--> 
        <div style="width:100%;">
          <div ng-show="geopointEditError" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:geopointEditError}" class="fadeIn">

            <div class="pull-left" style="padding-top:1px;">                
              <span>{{geopointEditError.msg}}</span>
            </div>

            <div class="pull-right" ng-click="geopointEditError=!geopointEditError">
              <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
            </div>  

          </div>  
        </div>  
        <!--/Saving Errors-->

        <div style="border-top:1px solid #dddbdb;">
          <form role="form" name="listGeoPointForm" ng-submit="listAddGeopoint(listGeoPointForm.$valid)">

            <div class="madd-relation-wrapper">            
              <div class="geopoint-list-wrapper">

                  <div class="geo-point-add-remv flex-general-row-wrapper-center">
                    <div class="flex-general-row-wrapper">


                      <!--Longitude-->
                      <div>
                        
                        <div class="geopoint-name">
                          <h4>Longitude</h4>
                        </div>

                        <input type="text" ng-model="listEditableGeopoint.longitude" class="geopoint-inputz" ng-blur="geoPointValidation('longitude',listEditableGeopoint.longitude)" minlength="-180" maxlength="180" required>
                      </div>

                      <!--Latitude-->
                      <div  style="margin-left:4px;">

                        <div class="geopoint-name">
                          <h4>Latitude</h4>                          
                        </div>  
                        
                        <input type="text" ng-model="listEditableGeopoint.latitude" class="geopoint-inputz"  ng-blur="geoPointValidation('latitude',listEditableGeopoint.latitude)" minlength="-90" maxlength="90" required>
                       
                      </div>

                      

                    </div> 
                  </div>
                  
              </div> 
            </div>           

            <div class="modal-footer">        
              <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal">Close</button>
              <!--Error-->
              <button type="button"  ng-show="geopointEditError" class="btn cb-modal-default-btn" style="color:gray !important;" >Add</button> 

              <!--Save-->
              <button type="submit"  ng-show="!geopointEditError" class="btn btn-primary cb-modal-default-btn" >Add</button>   
            </div>
        </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /Add/Remove List GeoPoint -->

<!-- Edit List GeoPoint -->
  <div class="modal fade colored-header danger" id="md-list-edit-geodocumentviewer" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="pull-right modalX">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>  
        <div class="flex-general-row-wrapper-center modalH">
          <h3>Geo Point</h3>        
        </div>      
        <div class="modal-body">
          <form role="form" name="listEditGeoPointForm" ng-submit="modifyListGeoPoint(listEditGeoPointForm.$valid)">

            <div class="madd-relation-wrapper">            
              <div class="geopoint-list-wrapper">

                  <div class="geo-point-add-remv flex-general-row-wrapper-center">
                    <div class="flex-general-row-wrapper">

                      <!--Latitude-->
                      <div>

                        <div class="geopoint-name">
                          <h4>Latitude</h4>                          
                        </div>  
                        
                        <input type="text" ng-model="listEditableGeopoint.latitude" class="geopoint-inputz"  ng-blur="geoPointValidation('latitude',listEditableGeopoint.latitude)" minlength="-90" maxlength="90" required>

                        <div ng-if="geopointEditError && (geopointEditError.type=='latitude')" class="geopoint-error">
                          <span>{{geopointEditError.msg}}</span>                          
                        </div>
                      </div>

                      <!--Longitude-->
                      <div style="margin-left:4px;">
                        
                        <div class="geopoint-name">
                          <h4>Longitude</h4>
                        </div>

                        <input type="text" ng-model="listEditableGeopoint.longitude" class="geopoint-inputz" ng-blur="geoPointValidation('longitude',listEditableGeopoint.longitude)" minlength="-180" maxlength="180" required>

                        <div ng-if="geopointEditError && (geopointEditError.type=='longitude')" class="geopoint-error">
                          <span>{{geopointEditError.msg}}</span>                          
                        </div>
                      </div>

                    </div> 
                  </div>
                  
              </div> 
            </div> 

            <div ng-show="!geopointEditError" class="flex-general-row-wrapper-center modalF">        
              <button  type="submit" class="btn btn-primary btn-flat" style="width:400px;">Modify</button>
            </div>
        </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /Edit List GeoPoint -->


<!--delete column modal-->
  <div class="modal fade colored-header danger" id="md-deleteColumn" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

      <div style="height:55px; width:100%;padding:13px;">
        <div class="pull-left" style="padding-left:8px;">
          <span style="font-size:18px;">Delete Column</span>
        </div>          
      </div>

      <!--Saving Errors--> 
      <div style="width:100%;">
        <div  ng-show="columnDeleteModalError" style="width:100%;height:30px;background-color:#C40101;color:white;padding-left:5px;padding-right:5px;padding-top:3.5px;" ng-class="{animated:columnDeleteModalError}" class="fadeIn">

          <div class="pull-left" style="padding-top:1px;">                
            <span>{{columnDeleteModalError}}</span>
          </div>

          <div class="pull-right" ng-click="columnDeleteModalError=!columnDeleteModalError">
            <i class="icon ion-android-close" style="font-size:16px;color:white;"></i>
          </div>  

        </div>  
      </div>  
      <!--/Saving Errors-->
      
      <div class="modal-body" style="border-top:1px solid #dddbdb;">
        <div class="text-center">
                 
          <p>To delete, type in the column name.</p>
          <center>
            <input type="text" class="form-control" ng-model="confirmDeleteColumnName" required style="width:400px;"/>
          </center>                    
        </div>
      </div>  

      <div class="modal-footer">        
        <button type="button" class="btn btn-default cb-modal-default-btn" data-dismiss="modal" ng-click="clearDeleteColumnData()">Close</button>

        <!--Disabled-->
        <button type="button" ng-show="columnDeleteModalError && !columnDeleteModalSpinner" style="color:gray;cursor:pointer !important; width:124px;" class="btn">Delete Column</button>

        <!--Delete-->
        <button type="button" ng-show="!columnDeleteModalSpinner && !columnDeleteModalError" ng-click="deleteColumn()" class="btn btn-danger" style="width:120px; border-radius:3px !important;">Delete Column</button>  

         <!--While Deleting-->
        <button type="button" ng-show="columnDeleteModalSpinner" class="btn btn-danger" style="width:142px; border-radius:3px !important;"><i class="fa fa-spinner fa-spin"></i>&nbsp;Deleting Column..</button> 
      </div>

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->



<!-- EditFile Modal -->
<div class="modal fade colored-header danger" id="md-fileviewer" tabindex="-1" role="dialog">
  <cb-file save="setAndSaveFile(fileObj)"></cb-file>
</div>  