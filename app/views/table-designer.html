 
        
<div class="cl-mcont aside" data-ng-init="initialize()">
   <div class="page-aside">      
        <div class="content">     
            <h2>Tables</h2>            
            <div class="row">        
              <ul class="nav nav-pills nav-stacked tableUl">
                <li class="tableList flex-li" ng-repeat="t in currentProject.tables" ng-click="selectTable(t)" ng-class="{liActive: (selectedTable === t)}">
                    <div class="flex-wrapper">

                      <div class="flex-items tableIcon">
                        <i class="fa fa-{{t.type.icon}} fa-lg"></i>
                      </div> 

                      <div class="flex-items tableName">
                        <p>{{t.name}}</p>
                      </div>

                      <div class="flex-items tableEdit">
                         <a  id="{{t.id}}"  ng-hide="!t.type.isRenamable" data-type="text" data-title="Enter new table name" ng-model="t" xeditable>

                            <i class="fa fa-pencil"></i>

                         </a>
                      </div>

                      <div class="flex-items tableDelete">
                         <i class="fa fa-times" ng-hide="!t.type.isDeletable" ng-click="deleteTableModal(t)"></i>
                      </div> 

                    </div>  
                </li>
              </ul>               
                
            </div> 
             <div style="margin-top:16px; width:100%">
                  <button type="button" ng-click="initiateTableSettings()" style="width:100%" class="btn btn-primary btn-trans" ><i class="fa fa-plus"></i>Add Table</button>                
            </div>                            
        </div>      
    </div>   
    
    <div class="content" style="background-color:white">

      <div class="row" ng-show="currentProject.tables.length==0">
        <div class="col-md-12">
         <div  style="padding-left:20px;">
             <h2><i class="fa fa-mail-reply"></i>&nbsp;No tables, Add tables to start your journey</h2>
         </div>

        </div>  
      </div>      
      
       <div class="row" ng-show="currentProject.tables.length>0">
        <div class="col-md-12">
          <h2 style="color:#55555A">&nbsp;&nbsp;{{selectedTable.name}}</h2>               
              <div class="table-responsive" style="margin:4px;">
                <table class="table no-border">
                  <thead class="no-border">
                    <tr>
                      <th style="width:2%;"><i class="fa fa-arrows"></th>
                      <th style="width:22%;"><strong>Column Name</strong></th>
                      <th style="width:20%;"><strong>Type</strong></th>
                      <th style="width:17%;"><strong>Required</strong></th>
                      <th style="width:17%;"><strong>Unique</strong></th>
                      <th style="width:12%;"><strong>Action</strong></th>
                    </tr>
                  </thead>
                  <tbody class="no-border-y">
                    <tr ng-repeat="col in selectedTable.columns">
                      <td style="width:2%;"></td>
                      <td style="width:22%;">
                        <!--Column Name-->                     
                          <span id="{{col.id}}column" class="colName" data-type="text" data-title="Enter new column name"  ng-model="col" ng-disabled="!col.isEditable" column-xeditable>{{col.name}}</span>             
                      
                      </td>
                      <td  style="width:20%;">
                          <!--Column Type--> 

                              <!--if dataType is Not Editable-->
                              <p ng-if="!col.isEditable">{{col.dataType}}</p>
                              <br>

                              <div  ng-if="!col.isEditable && col.dataType=='List'" ng-repeat="eachTable in currentProject.tables">
                                <p ng-if="eachTable.name==col.relatedTo">{{eachTable.name}}</p>
                              </div> 
                              <div  ng-if="!col.isEditable && col.dataType=='List'" ng-repeat="dTypes in colDataTypes | filter:filterDataType">
                                <p ng-if="dTypes.name==col.relatedTo">{{dTypes.text}}</p>
                              </div>

                              <div  ng-if="!col.isEditable && col.dataType=='Relation'" ng-repeat="eachTable in currentProject.tables">
                                <p ng-if="eachTable.name==col.relatedTo">{{eachTable.name}}</p>
                              </div>                             

                              <div ng-click="canChangeDatatype(col)" ng-if="col.isEditable || col.saved">                               

                                <!--if dataType is Editable-->
                                <select ng-model="col.dataType" style="width:150px" ng-change="saveTables()">
                                    <option ng-repeat="dTypes in colDataTypes" ng-show="dTypes.visible" ng-selected="col.dataType==dTypes.name" value="{{dTypes.name}}">{{dTypes.text}}</option>
                                </select> 

                                <br>
                                                          
                                <!--if dataType is List-->
                                <select  ng-if="col.dataType=='List'" style="width:150px; margin-top:4px;" ng-model="col.relatedTo" ng-change="saveTables()" ng-disabled="!col.isEditable || col.saved">
                                    <option ng-repeat="eachTable in currentProject.tables" ng-selected="eachTable.name==col.relatedTo" value="{{eachTable.name}}">{{eachTable.name}}</option>
                                
                                    <option ng-repeat="dTypes in colDataTypes | filter:filterDataType" ng-selected="dTypes.name==col.relatedTo" ng-show="dTypes.visible"  value="{{dTypes.name}}">{{dTypes.text}}</option>
                                     
                                </select>
                              
                                <!--if dataType is Relation-->
                                <select   style="width:150px; margin-top:4px;" ng-if="col.dataType=='Relation'" data-ng-model="col.relatedTo" ng-change="saveTables()" ng-disabled="!col.isEditable || col.saved">
                                    <option ng-repeat="eachTable in currentProject.tables" ng-selected="eachTable.name==col.relatedTo" value="{{eachTable.name}}">{{eachTable.name}}
                                    </option>
                                </select> 

                         </div>  
                      </td>
                      <td style="width:17%;" ng-click="canChangeRequired(col)"> 
                        <!--Column required-->                       
                        <checkbox class="btn-default" ng-model="col.required" ng-disabled="!col.isEditable || (col.saved && !col.required)" ng-change="saveTables()"></checkbox>
                      </td>
                 
                      <td style="width:17%;" ng-click="canChangeUnique(col)">
                        <!--Column unique-->  
                        <checkbox class="btn-default" ng-hide="col.dataType === 'List'"  ng-model="col.unique" ng-disabled="!col.isEditable || (col.saved && !col.unique)" ng-change="saveTables()"></checkbox>          
                      </td>
                       <td style="width:12%;">
                          <!--Column tools-->                       
                        <a class="label label-danger" ng-class="{disable:!col.isDeletable}" ng-disabled="!col.isDeletable"  ng-click="deleteCol(col)">
                        <i class="fa fa-times"></i></a>                           
                        </td>
                    </tr>
                   
                  </tbody>
              </table>  
              <center data-ng-hide="columnErrorForEdit" style="margin-top:20px;margin-bottom:20px">
                   <button class="btn btn-primary btn-trans" ng-hide="!selectedTable.type.isEditable" ng-click="addColumn()"><i class="fa fa-plus"></i>Add new Column</button>
              </center>
              </div>
                   
        </div>
      </div>
    </div>

</div>

  <!-- Add New table -->
<div class="modal fade colored-header bs-modal-add-table"  tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">

        <h3>Add a new table</h3>
        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
      </div>
      <div class="modal-body form">
        <!--Error Service-->
         <div class="form-group">
           <div data-ng-show="tableErrorForCreate" class="alert alert-danger smallPadding" role="alert">
            <i class="fa fa-exclamation-triangle"></i> &nbsp; {{tableErrorForCreate}}
          </div>
        </div>    
        <!--Select table Form-->            
        <div class="flex-add-Bx">
          <div class="add-Bx">
              <select class="form-control"  ng-model="newTableType" ng-change="selectType(newTableType)">
                <option  ng-repeat="tableType in tableTypes | filter:checkMaxCount"   value="{{tableType.type}}" ng-selected="tableType.type=='custom'">{{tableType.name}}</option>
            </select> 
          </div> 
           <div class="add-Bx" style="margin-left:6px;">
               <input type="text" class="form-control" ng-disabled="!selectedTableType.isRenamable" ng-keyup="checkErrorsForCreate(newTableName,currentProject.tables,'table')" ng-model="newTableName" placeholder="Name of the new table" required />
          </div>
        </div>          

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-flat md-close" data-dismiss="modal">Close</button> 
        <button type="submit" class="btn bg-infoBlueBtn" ng-disabled="tableErrorForCreate" ng-click="addNewTable()" data-dismiss="modal">Submit</button> 
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /Add New table -->
<!--end of modal-->

<!--delete table modal-->
  <div class="modal fade colored-header danger" id="md-deleteTable" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
      <div class="modal-header">
        <h3>Delete Table</h3>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      </div>
      <div class="modal-body">
        <div class="text-center">
          <div class="i-circle danger"><i class="fa fa-times"></i></div>         
          <p>To delete, type in the table name.</p>
          <center>
            <input type="text" class="form-control" ng-model="confirmTableName" required style="width:400px;"/>
          </center>          
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-flat" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger btn-flat" ng-click="deleteTable(selectedTable)">Continue</button>
      </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
 




  


   
  
  
